(window["__LOADABLE_LOADED_CHUNKS__"]=window["__LOADABLE_LOADED_CHUNKS__"]||[]).push([[4],{"++M8":function(e,t){},"1ZoV":function(e,t,n){e.exports=n.p+"17df28f35bfb3292fe5bdd94b81fa456.svg"},"6CID":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"markReadAll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActivitySubType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markReadAll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"Variable",name:{kind:"Name",value:"subType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"mutation markReadAll($subType: ActivitySubType!) {\n  markReadAll(subType: $subType) {\n    ok\n    error\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function c(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[c(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=c(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["markReadAll"]=o(n,"markReadAll")},"7VoO":function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"myNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numPerPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActivitySubType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"myNotificationV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageNumber"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"resultPerPage"},value:{kind:"Variable",name:{kind:"Name",value:"numPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"Variable",name:{kind:"Name",value:"subType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verb"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"notificationEntityNode"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"actorNums"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"obj"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"notificationEntityNode"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"notificationEntityNode"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"link"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"haveRead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hasMore"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:514}};a.loc.source={body:"#import '../fragments/entity-node.graphql'\n\nquery myNotifications($page: Int, $numPerPage: Int, $subType: ActivitySubType!) {\n  myNotificationV2(pageNumber: $page, resultPerPage: $numPerPage, subType: $subType) {\n    nodes {\n      uuid\n      verb\n      actors {\n        ...notificationEntityNode\n      }\n\n      actorNums\n      obj {\n        ...notificationEntityNode\n      }\n\n      target {\n        ...notificationEntityNode\n      }\n\n      link\n      haveRead\n      content\n      updatedAt\n    }\n    hasMore\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(r[t]){return false}else{r[t]=true;return true}})}a.definitions=a.definitions.concat(i(n("Q6XD").definitions));function o(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){o(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){o(e,t)})}if(e.definitions){e.definitions.forEach(function(e){o(e,t)})}}var l={};(function e(){a.definitions.forEach(function(e){if(e.name){var t=new Set;o(e,t);l[e.name.value]=t}})})();function c(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function u(n,e){var a={kind:n.kind,definitions:[c(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=c(n,e);if(t){a.definitions.push(t)}});return a}e.exports=a;e.exports["myNotifications"]=u(a,"myNotifications")},"8CDz":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"checkin"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkin"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkedIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:67}};n.loc.source={body:"mutation checkin {\n  checkin {\n    checkedIn\n    ok\n    error\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function c(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[c(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=c(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["checkin"]=o(n,"checkin")},"8jAb":function(e,t,n){"use strict";var r=n("D57K");var i=n("ERkP");var o=n.n(i);var a=n("pu3o");var l=n.n(a);var c=n("5ZzG");var u=n("8d7B");var s=n("jaZD");var d=n("ildc");var m=n("4F1I");var p=n("lXyA");var f=n.n(p);var v=n("sYqU");var b=f()(function(){var e=document.createElement("div");e.classList.add("wechat-sign-in-modal-container");document.body.appendChild(e);return e});function g(){var e=v["a"].getCurrentRelativePath();var t=l.a.stringify({direct_next:e,connect_next:location.origin+"/wechat/login-connect?"+l.a.stringify({next:e})});return location.origin+"/wechat/mplogin?"+t}function h(e){var t=l.a.stringify(Object(r["a"])(Object(r["a"])({},e),{redirect_uri:e.redirect_uri,response_type:"code"}));return"https://open.weixin.qq.com/connect/oauth2/authorize?"+t+"#wechat_redirect"}function y(){return h({appid:"wx8895d677f6fa453f",redirect_uri:g(),scope:"snsapi_userinfo"})}function k(){return S("login")}function E(){var e=S("connect");return v["a"].signIn(e)}function S(e){var t=l.a.parse(location.search.substr(1)),n=t.next,a=t.lc_ticket;var r=l.a.stringify({process:e,next:n,lc_ticket:a});return"/wechat/mplogin/new?"+r}var O={weixin:"wechat"};var j={weixin:Object(d["c"])()?y():undefined};function N(e){var t=e.id,n=e.login_url;return{iconType:O[t]||t,url:""+window.location.origin+n,fastUrl:j[t]}}function C(e){if(e===void 0){e="[]"}try{return Object(r["k"])(JSON.parse(e),m["a"]).map(N)}catch(e){return[]}}var x=n("LJ7e");var w=n("qzvP");var F=n("6h7y");var P;var I=function(e,t){var n;var a="&[data-icon^="+e+"]";return n={},n[a]={"&:hover":{color:t}},n};var A=Object(w["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},I("weibo",F["weiboColor"])),I("baidu",F["baiduColor"])),I("wechat",F["wechatColor"])),I("facebook",F["facebookColor"])),I("google",F["googleColor"])),I("github",F["dark1"])),I("linkedin",F["linkedinColor"])),I("qq",F["qqColor"])),{color:F["dark6"],margin:"0 7.5px"}),"label:link;");var M=Object(w["a"])({width:"30px",height:"30px"},"label:icon;");var D=Object(x["a"])("div",{target:"e5i1odf0"})((P={},P["."+A]={margin:"0 10px"},P["."+M]={width:"24px",height:"24px"},P.display="flex",P.flexDirection="column",P.justifyContent="center",P.alignItems="center",P.margin="25px auto 0",P),"label:Container;");var R=Object(x["a"])("p",{target:"e5i1odf1"})({marginBottom:"15px",color:F["dark6"],pointerEvents:"none"},"label:Tips;");var T=n("K/af");n.d(t,"a",function(){return U});var U=Object(i["memo"])(function(e){var t=Object(r["i"])(Object(T["a"])(u["GlobalDataModule"]),1),n=t[0].globalData;var a=Object(i["useMemo"])(function(){return function(e){if(!n){return null}var t=C(n.feature.socialProviders);var r=l.a.stringify({next:e});return o.a.createElement("div",null,t.map(function(e){var t=e.iconType,n=e.url,a=e.fastUrl;return o.a.createElement("a",{key:t,href:a||n+"?"+r,"data-icon":t,className:A},o.a.createElement(c["a"],{type:t,className:M}))}))}},[e.next,n]);return o.a.createElement(D,{isCn:true},o.a.createElement(R,null,"第三方登录"),o.a.createElement(s["a"],null,function(e){var t=e.next;return a(t)}))})},BMks:function(e,t,n){"use strict";var a=n("OOFc");if(n.o(a,"CONFIRM_PASSWORD"))n.d(t,"CONFIRM_PASSWORD",function(){return a["CONFIRM_PASSWORD"]});if(n.o(a,"EMAIL"))n.d(t,"EMAIL",function(){return a["EMAIL"]});if(n.o(a,"Form"))n.d(t,"Form",function(){return a["Form"]});if(n.o(a,"Input"))n.d(t,"Input",function(){return a["Input"]});if(n.o(a,"NEW_NICKNAME"))n.d(t,"NEW_NICKNAME",function(){return a["NEW_NICKNAME"]});if(n.o(a,"NEW_PASSWORD"))n.d(t,"NEW_PASSWORD",function(){return a["NEW_PASSWORD"]});if(n.o(a,"PASSWORD"))n.d(t,"PASSWORD",function(){return a["PASSWORD"]});if(n.o(a,"PHONE_CODE"))n.d(t,"PHONE_CODE",function(){return a["PHONE_CODE"]});if(n.o(a,"PHONE_NUMBER"))n.d(t,"PHONE_NUMBER",function(){return a["PHONE_NUMBER"]});if(n.o(a,"USERNAME"))n.d(t,"USERNAME",function(){return a["USERNAME"]})},Ctp7:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchAllLeetcodeTemplates"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allLeetcodePlaygroundTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameSlug"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111}};n.loc.source={body:"query fetchAllLeetcodeTemplates {\n  allLeetcodePlaygroundTemplates {\n    templateId\n    name\n    nameSlug\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function c(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[c(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=c(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["fetchAllLeetcodeTemplates"]=o(n,"fetchAllLeetcodeTemplates")},GE63:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"unreadNotificationNumber"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ActivitySubType"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"myUnreadNotificationNum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"Variable",name:{kind:"Name",value:"subType"}}}],directives:[]}]}}],loc:{start:0,end:107}};n.loc.source={body:"query unreadNotificationNumber($subType: ActivitySubType) {\n  myUnreadNotificationNum(subType: $subType)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function c(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[c(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=c(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["unreadNotificationNumber"]=o(n,"unreadNotificationNumber")},Gn6q:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"premiumCreatedAndExpiredTime"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumExpiredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumCreatedAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"query premiumCreatedAndExpiredTime {\n  userStatus {\n    premiumExpiredAt\n    premiumCreatedAt\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function c(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[c(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=c(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["premiumCreatedAndExpiredTime"]=o(n,"premiumCreatedAndExpiredTime")},HjlZ:function(e,t,n){"use strict";var a=n("D57K");var r=n("Jf4p");function i(e,t){return e?null:t}var o=function(){function e(e){if(e===void 0){e={}}this.config=e;this.currentContent=""}e.prototype.validate=function(e,t,n){this.currentContent=t;this.currentFormValue=n;if(this[e]){return this[e]()}else{return null}};e.prototype.noEmpty=function(){return i(this.currentContent.length>0,this.config.noEmptyErrorMessage||"此项为必填项")};e.prototype.minLength=function(e){if(e===void 0){e=-1}if(e>0){return i(this.currentContent.length>=e,this.config.minLengthErrorMessage||"长度需不小于 "+e+" 位")}else{return null}};e.prototype.minUtf8Bytes=function(e){if(e===void 0){e=-1}if(e>0){return i(Object(r["b"])(this.currentContent)>=e,this.config.minUtf8BytesErrorMessage||"内容过短")}else{return null}};e.prototype.maxUtf8Bytes=function(e){if(e===void 0){e=-1}if(e>0){return i(Object(r["b"])(this.currentContent)<=e,this.config.maxUtf8BytesErrorMessage||"内容过长")}else{return null}};return e}();var l=function(e){Object(a["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onBlur=function(){return null};t.prototype.onSubmit=function(){return this.noEmpty()};t.prototype.onChange=function(){return null};return t}(o);var c=l;var u=function(e){Object(a["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=/^[\dA-z_]*$/g.test(this.currentContent);return i(e,this.config.invalidFormatErrorMessage||"The username must contain only letters, numbers, "+"hyphens and underscores.")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.maxUtf8Bytes(this.config.maxUtf8Bytes)||this.minUtf8Bytes(this.config.minUtf8Bytes)||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var s=u;var d=function(e){Object(a["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=!/\s{2}/.test(this.currentContent);return i(e,"昵称不合法")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.maxUtf8Bytes(this.config.maxUtf8Bytes)||this.minUtf8Bytes(this.config.minUtf8Bytes)||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var m=d;var p=function(e){Object(a["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=/^[\x20-\x7E]{8,}$/g.test(this.currentContent);var t=/[a-z]+/i.test(this.currentContent)&&/\d+/i.test(this.currentContent);return i(e&&t,"密码须为不小于8位的数字及字母组合")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var f=p;var v=function(e){Object(a["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.isSamePassword()};t.prototype.onChange=function(){return null};t.prototype.isSamePassword=function(){if(this.currentFormValue){var e=this.currentFormValue[this.config.passwordFieldName];return i(this.currentContent===e,this.config.notEqualErrorMessage||"The passwords you entered do not match.")}else{return null}};return t}(o);var b=v;var g=n("3PBV");var h=n.n(g);var y=function(e){Object(a["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=this.currentContent;var t=!h()({content:e},{content:{email:true}});return i(t,this.config.invalidErrorMessage||"Invalid email address")};t.prototype.onBlur=function(){if(!this.currentContent)return null;return this.isValidFormat()};t.prototype.onSubmit=function(){return this.noEmpty()||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var k=y;var E=function(e){Object(a["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=!!Number(this.currentContent)&&this.currentContent.length===11;return i(e,this.config.invalidFormatErrorMessage||"错误的手机号码")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.isValidFormat()};t.prototype.onChange=function(){return null};t.prototype.onSendCode=function(){return this.onSubmit()};return t}(o);var S=E;n.d(t,"h",function(){return j});n.d(t,"c",function(){return C});n.d(t,"e",function(){return x});n.d(t,"d",function(){return w});n.d(t,"a",function(){return F});n.d(t,"b",function(){return P});n.d(t,"g",function(){return I});n.d(t,"f",function(){return A});var O={spellCheck:false,autoCorrect:"off",autoCapitalize:"off"};var j=Object(a["a"])(Object(a["a"])({},O),{name:"login",autoComplete:"username",validation:new c({get noEmptyErrorMessage(){return"请输入手机号或邮箱"}})});var N=Object(a["a"])(Object(a["a"])({},O),{name:"username",autoComplete:"username",maxUtf8Bytes:30,validation:new s({minUtf8Bytes:3,get invalidFormatErrorMessage(){return"用户名只能包含字母，数字，下划线或者连词符"}})});var C=Object(a["a"])(Object(a["a"])({},N),{name:"nickname",autoComplete:"nickname",maxUtf8Bytes:30,validation:new m({minUtf8Bytes:3,get minLengthErrorMessage(){return"昵称过短"},get noEmptyErrorMessage(){return"请输入昵称"}})});var x=Object(a["a"])(Object(a["a"])({},O),{type:"password",name:"password",autoComplete:"password",validation:new c({get noEmptyErrorMessage(){return"请输入密码"}})});var w=Object(a["a"])(Object(a["a"])({},O),{type:"password",name:"password1",autoComplete:"new-password",validation:new f({get noEmptyErrorMessage(){return"请输入密码"}})});var F=Object(a["a"])(Object(a["a"])({},w),{name:"password2",validation:new b({passwordFieldName:w.name,get noEmptyErrorMessage(){return"请再次输入密码"},get notEqualErrorMessage(){return"两次输入的密码不一致"}})});var P=Object(a["a"])(Object(a["a"])({},O),{type:"email",name:"email",autoComplete:"username email",validation:new k({get noEmptyErrorMessage(){return"请输入邮箱"},get invalidErrorMessage(){return"请输入正确的邮箱"}})});var I=Object(a["a"])(Object(a["a"])({},O),{name:"phone",autoComplete:"username tel-national",validation:new S({get noEmptyErrorMessage(){return"请输入手机号"},get invalidFormatErrorMessage(){return"请输入正确的手机号"}})});var A=Object(a["a"])(Object(a["a"])({},O),{name:"phone_code",autoComplete:"off",validation:new c({get noEmptyErrorMessage(){return"请输入短信验证码"}})})},OOFc:function(e,t,n){"use strict";var a=n("++M8");var r=n.n(a);if(n.o(a,"CONFIRM_PASSWORD"))n.d(t,"CONFIRM_PASSWORD",function(){return a["CONFIRM_PASSWORD"]});if(n.o(a,"EMAIL"))n.d(t,"EMAIL",function(){return a["EMAIL"]});if(n.o(a,"Input"))n.d(t,"Input",function(){return a["Input"]});if(n.o(a,"NEW_NICKNAME"))n.d(t,"NEW_NICKNAME",function(){return a["NEW_NICKNAME"]});if(n.o(a,"NEW_PASSWORD"))n.d(t,"NEW_PASSWORD",function(){return a["NEW_PASSWORD"]});if(n.o(a,"PASSWORD"))n.d(t,"PASSWORD",function(){return a["PASSWORD"]});if(n.o(a,"PHONE_CODE"))n.d(t,"PHONE_CODE",function(){return a["PHONE_CODE"]});if(n.o(a,"PHONE_NUMBER"))n.d(t,"PHONE_NUMBER",function(){return a["PHONE_NUMBER"]});if(n.o(a,"USERNAME"))n.d(t,"USERNAME",function(){return a["USERNAME"]});var i=n("HjlZ");n.d(t,"CONFIRM_PASSWORD",function(){return i["a"]});n.d(t,"EMAIL",function(){return i["b"]});n.d(t,"NEW_NICKNAME",function(){return i["c"]});n.d(t,"NEW_PASSWORD",function(){return i["d"]});n.d(t,"PASSWORD",function(){return i["e"]});n.d(t,"PHONE_CODE",function(){return i["f"]});n.d(t,"PHONE_NUMBER",function(){return i["g"]});n.d(t,"USERNAME",function(){return i["h"]});var o=n("V5/1");n.d(t,"Input",function(){return o["a"]});var l=n("RANX");n.d(t,"Form",function(){return l["a"]})},Q6XD:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"notificationEntityNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EntityNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"QuestionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FeedArticleNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"article"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"articleQuestion"},name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"qaQuestion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FeedSubmissionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lang"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submitTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"JobsCompanyNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameSlug"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProblemCommentNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FeedArticleCommentNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"article"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"articleQuestion"},name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"qaQuestion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityTopicNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1618}};n.loc.source={body:"fragment notificationEntityNode on EntityNode {\n  ... on UserNode {\n    username\n    profile {\n      userSlug\n\t    realName\n    }\n  }\n\n  ... on QuestionNode {\n    questionFrontendId\n    title\n    titleSlug\n    translatedTitle\n  }\n\n  ... on FeedArticleNode {\n    article {\n      uuid\n      title\n      slug\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      }\n    }\n    articleQuestion: question {\n      questionFrontendId\n      title\n      titleSlug\n      translatedTitle\n    }\n    qaQuestion {\n      uuid\n      title\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      } \n    }\n  }\n\n  ... on FeedSubmissionNode {\n    status\n    lang\n    submitTime\n    question {\n      questionFrontendId\n      title\n      translatedTitle\n      titleSlug\n    }\n  }\n\n  ... on JobsCompanyNode {\n    name\n    nameSlug\n  }\n\n  ... on ProblemCommentNode {\n    question {\n      questionFrontendId\n      title\n      titleSlug \n      translatedTitle\n    }\n    comment {\n      id\n    }\n  }\n\n  ... on FeedArticleCommentNode {\n    article {\n      uuid\n      title\n      slug\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      }\n    }\n    articleQuestion: question {\n      questionFrontendId\n      title\n      titleSlug\n      translatedTitle\n    } \n    comment {\n      id\n    }\n\n    qaQuestion {\n      uuid\n      title\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      }\n    }\n  }\n\n  ... on CommunityTopicNode {\n    id\n    title\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}e.exports=n},RANX:function(e,t,n){"use strict";var l=n("D57K");var r=n("5Nzd");var a=n("ERkP");var i=n.n(a);var o=n("fQLH");var c=n("LR82");var u=n("pN2L");var s=n("d9YI");var d=n("iJR/");var m=n("vKrG");var p=n("U3QC");var f=n("AouM");var v=n("Jg5f");var b=n("rzNM");var g=n("IMYO");var h=n("G2Mx");var y=n("nBd1");var k=n("5CFZ");var E=n("l8fx");var S=n("RuI9");var O=n("yMer");var j=n("LJ7e");var N=n("z45D");var C=Object(j["a"])("form",{target:"e5i1odf0"})({display:"flex",flexDirection:"column",alignItems:"stretch"},"label:StyledForm;");var x=Object(j["a"])("p",{target:"e5i1odf1"})(Object(l["a"])(Object(l["a"])({},N["a"]),{textAlign:"center"}),"label:ErrorMessagePara;");var w=function(e){Object(l["d"])(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;a.state={errorMessage:""};a.rxAxios=r["b"].getInstance(E["a"]);a.action$=new o["a"];a.submit$=new o["a"];a.subscription=new c["a"];a.fields={};a.onSubmit$=a.submit$.pipe(Object(p["a"])(function(){a.clearErrorMessage()}),Object(f["a"])(function(e){var t=e.url,n=e.extraFormValue;return a.validateInputs("onSubmit").then(function(e){return{url:t,formValue:Object(l["a"])(Object(l["a"])({},e),n)}})}),Object(v["a"])(function(e){var t=e.url,n=e.formValue;return{url:t,options:{data:Object(O["a"])(n),headers:{"X-Requested-With":"XMLHttpRequest"}}}}),Object(b["a"])(function(e){var t=e.url,n=e.options;a.beforeSubmit();return a.rxAxios.post(t,n).pipe(Object(g["a"])(function(e){if(e.response&&e.response.data){return Object(u["a"])(e.response.data)}else{var t=e instanceof Error?e.message:String(e);a.onError(t);return s["a"]}}))}));a.onSubmit=function(e){if(typeof a.props.onSubmit==="function"){a.props.onSubmit(e)}};a.onFieldMount=function(e,t){a.fields[e]=t};a.onFieldUnMount=function(e){delete a.fields[e]};a.onTriggerAction=function(e){if(e.type==="onKeyDown"){a.onFieldKeyDown(e.value.event)}};return a}Object.defineProperty(t.prototype,"formProviderValue",{get:function(){return{action$:this.action$,onFieldMount:this.onFieldMount,onFieldUnMount:this.onFieldUnMount}},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){this.subscription.add(this.onSubmit$.subscribe(this.onSubmit));this.subscription.add(this.action$.subscribe(this.onTriggerAction))};t.prototype.componentWillUnmount=function(){this.submit$.complete();this.action$.complete();this.subscription.unsubscribe()};t.prototype.getFormValues=function(){var e=new o["a"];var t=Object.keys(this.fields);var n=e.pipe(Object(h["a"])(t.length),Object(y["a"])(function(e,t){return Object(l["a"])(Object(l["a"])({},e),t)})).toPromise();var a={type:"getFormValue",value:{addValue$:e}};this.action$.next(a);return n};t.prototype.validateInputs=function(o){return Object(l["b"])(this,void 0,Promise,function(){var r,t,n;var i=this;return Object(l["e"])(this,function(e){switch(e.label){case 0:return[4,this.getFormValues()];case 1:r=e.sent();t=Object(d["a"])(Object.keys(this.fields)).pipe(Object(v["a"])(function(e){var t=i.fields[e];var n=r[e];var a=t.validate(o,n,r);return{errorMessage:a,formValue:r,field:{name:e,validation:t}}}));t.subscribe(function(e){var t=e.field,n=e.errorMessage;i.showError(t.name,n)});n=t.pipe(Object(k["a"])(function(e){var t=e.errorMessage;return t===null}),Object(f["a"])(function(e){return e?Object(u["a"])(r):m["a"]}));return[2,n.toPromise()]}})})};t.prototype.submit=function(e){this.submit$.next(e)};t.prototype.showError=function(e,t){var n={type:"showError",value:{inputName:e,errorMessage:t}};this.action$.next(n)};t.prototype.render=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(S["b"],{value:this.formProviderValue},i.a.createElement(C,null,this.props.children)),this.state.errorMessage&&i.a.createElement(x,null,this.state.errorMessage))};t.prototype.clearErrorMessage=function(){this.setState({errorMessage:""})};t.prototype.onError=function(e){if(typeof this.props.onError==="function"){this.props.onError(e)}this.setState({errorMessage:e})};t.prototype.beforeSubmit=function(){if(typeof this.props.beforeSubmit==="function"){this.props.beforeSubmit()}};t.prototype.onFieldKeyDown=function(e){if(e.key==="Enter"&&this.props.onKeyDownEnter){this.props.onKeyDownEnter()}};return t}(i.a.PureComponent);var F=t["a"]=w},RuI9:function(e,t,n){"use strict";n.d(t,"b",function(){return c});n.d(t,"a",function(){return u});var a=n("ERkP");var r=n.n(a);var i=n("fQLH");var o={action$:new i["a"],onFieldMount:function(){},onFieldUnMount:function(){}};var l=r.a.createContext(o),c=l.Provider,u=l.Consumer},ULPy:function(e,t,n){e.exports=n.p+"f2ece5fe978d056f5a425ad3387216ee.svg"},UqMZ:function(e,t,n){"use strict";var c=n("D57K");var a=n("ERkP");var u=n.n(a);var r=n("7nmT");var o=n.n(r);var l=n("YnR9");var s=n("sYqU");var d=n("fgzu");var m=n("nPqx");var i=n("ildc");var p=n("jaZD");var f=n("v31z");var v=n("BMks");var b=n("8jAb");var g;(function(e){e[e["SignIn"]=0]="SignIn";e[e["SignUpByEmail"]=1]="SignUpByEmail";e[e["SignUpByMobileInStep1"]=2]="SignUpByMobileInStep1";e[e["SignUpByMobileInStep2"]=3]="SignUpByMobileInStep2"})(g||(g={}));var h={currentStep:g.SignIn,goStep:function(){return function(){}},isCurrentStep:function(e){return e===this.currentStep}};var y=u.a.createContext(h),k=y.Provider,E=y.Consumer;var S=n("LJ7e");var O=n("6h7y");var j=Object(S["a"])("p",{target:"e5i1odf0"})({color:O["redA4"],fontSize:"12px",lineHeight:"18px",margin:"-10px 0 20px 0"},"label:ErrorMessagePara;");var N=Object(S["a"])("div",{target:"e5i1odf1"})({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"20px",color:O["dark6"],"a, span":{color:O["dblue6"],fontSize:"14px",lineHeight:"20px",cursor:"pointer"}},"label:Actions;");var C=function(e){Object(c["d"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={error:"",isSubmitting:false};t.formRef=u.a.createRef();t.onClickSignIn=function(){t.updateSubmitError();t.submit()};t.onSubmit=function(e){if(e.location){window.location.href=e.location}else{t.afterSubmit(e)}};t.beforeSubmit=function(){t.setState({isSubmitting:true})};t.afterSubmit=function(e){t.setState({isSubmitting:false});if(e.form){t.updateSubmitError(e.form.errors[0])}};return t}t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,beforeSubmit:this.beforeSubmit,onSubmit:this.onSubmit,onKeyDownEnter:this.onClickSignIn},u.a.createElement(v["Input"],Object(c["a"])({},v["USERNAME"],{placeholder:"手机或邮箱"})),u.a.createElement(v["Input"],Object(c["a"])({},v["PASSWORD"],{placeholder:"密码"}))),this.renderCommonError(),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickSignIn,disabled:this.state.isSubmitting},"登录"),u.a.createElement(N,null,u.a.createElement("a",{href:window.location.origin+"/accounts/password/reset/"},"忘记密码?"),u.a.createElement(E,null,function(e){var t=e.goStep;return u.a.createElement("span",{onClick:t(g.SignUpByMobileInStep1)},"注册")})),u.a.createElement(b["a"],null))};t.prototype.submit=function(){if(!this.state.isSubmitting&&this.formRef.current){this.formRef.current.submit({url:"/accounts/login/",extraFormValue:{next:this.props.next||"/"}})}};t.prototype.updateSubmitError=function(e){if(e===void 0){e=""}this.setState({error:e})};t.prototype.renderCommonError=function(){return this.state.error&&u.a.createElement(j,null,this.state.error)};return t}(u.a.PureComponent);var x=Object(p["c"])(C);var w=Object(S["a"])("div",{target:"e5i1odf0"})({display:"flex",marginBottom:"25px",'&[data-is-hide="true"]':{display:"none"}},"label:Switch;");var F=Object(S["a"])("span",{target:"e5i1odf1"})({flex:1,color:O["dark6"],fontSize:"14px",lineHeight:"40px",textAlign:"center",borderBottom:"1px solid",cursor:"pointer",'&[data-is-selected="true"]':{color:O["dblue9"]}},"label:Item;");var P=function(){return u.a.createElement(E,null,function(e){var t=e.goStep,n=e.isCurrentStep;return u.a.createElement(w,{"data-is-hide":n(g.SignUpByMobileInStep2)},u.a.createElement(F,{"data-is-selected":n(g.SignUpByMobileInStep1),onClick:t(g.SignUpByMobileInStep1)},"手机注册"),u.a.createElement(F,{"data-is-selected":n(g.SignUpByEmail),onClick:t(g.SignUpByEmail)},"邮箱注册"))})};var I=n("9EA8");var A=Object(S["a"])("div",{target:"e5i1odf0"})({fontSize:"12px",lineHeight:"45px",textAlign:"center",borderTop:"1px solid "+O["dark8"],marginTop:"20px",color:O["dark4"],a:{color:O["dblue6"]}},"label:Agreement;");var M=function(){return u.a.createElement(A,null,"点击 “注册”，即代表您同意",u.a.createElement("a",{href:"/terms/"},"《力扣服务协议》"))};var D=Object(S["a"])("div",{target:"e5i1odf0"})({textAlign:"center",marginTop:"20px",color:O["dark6"],span:{color:O["dblue6"],fontSize:"14px",lineHeight:"20px",cursor:"pointer",marginLeft:"0.5em"}},"label:GoSignIn;");var R=function(e){Object(c["d"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={isSubmitting:false};t.formRef=u.a.createRef();t.onSubmit=function(e){if(e.location){t.savePasswordToBrowser().then(function(){window.location.href=e.location})}else{t.afterSubmit(e)}};t.beforeSubmit=function(){t.setState({isSubmitting:true})};t.afterSubmit=function(e){t.setState({isSubmitting:false});t.showSubmitErrors(e)};t.onClickSignUp=function(){if(!t.state.isSubmitting&&t.formRef.current){t.formRef.current.submit({url:"/accounts/signup/",extraFormValue:{phone_email_select:"email",next:t.props.next||"/",username:"placeholder"}})}};t.onConfirmPasswordFieldBlur=function(){if(t.formRef.current){t.formRef.current.validateInputs("onBlur")}};return t}t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,beforeSubmit:this.beforeSubmit,onSubmit:this.onSubmit,onKeyDownEnter:this.onClickSignUp},u.a.createElement(v["Input"],Object(c["a"])({},v["EMAIL"],{placeholder:"邮箱"})),u.a.createElement(v["Input"],Object(c["a"])({},v["NEW_NICKNAME"],{placeholder:"昵称"})),u.a.createElement(v["Input"],Object(c["a"])({},v["NEW_PASSWORD"],{placeholder:"密码"})),u.a.createElement(v["Input"],Object(c["a"])({},v["CONFIRM_PASSWORD"],{onBlur:this.onConfirmPasswordFieldBlur,placeholder:"再次确认密码"}))),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickSignUp,disabled:this.state.isSubmitting},"注册"),u.a.createElement(E,null,function(e){var t=e.goStep;return u.a.createElement(D,null,"已有账号? ",u.a.createElement("span",{onClick:t(g.SignIn)},"登录"))}),u.a.createElement(b["a"],null),u.a.createElement(M,null))};t.prototype.savePasswordToBrowser=function(){return Object(c["b"])(this,void 0,Promise,function(){return Object(c["e"])(this,function(e){switch(e.label){case 0:if(!this.formRef.current)return[3,2];return[4,this.formRef.current.getFormValues().then(function(e){return{id:e[v["EMAIL"].name],password:e[v["NEW_PASSWORD"].name]}}).then(I["a"])];case 1:e.sent();e.label=2;case 2:return[2]}})})};t.prototype.showSubmitErrors=function(e){var n=this;var a=e.form.fields;Object.keys(a).forEach(function(e){var t=a[e].errors[0];if(t&&n.formRef.current){n.formRef.current.showError(e,t)}})};return t}(u.a.PureComponent);var T=Object(p["c"])(R);var U=n("LR82");var _=n("fQLH");var q=n("JpoA");var L=n("iJR/");var B=n("vKrG");var W=n("AouM");var V=n("U3QC");var Q=n("rzNM");var z=n("z5yO");var H=n("12aA");var $=n("IMYO");var G=n("Jg5f");var K=n("G0kv");var J=n("uZih");var Z=n.n(J);var Y=n("lXyA");var X=n.n(Y);var ee=X()(function e(){return new Promise(function(e,t){var n=document.createElement("script");n.type="text/javascript";n.src="//g.alicdn.com/sd/ncpc/nc.js?t="+Date.now();n.onload=function(){e(window.noCaptcha)};n.onerror=t;document.head.appendChild(n)})});var te=n("l1C2");var ne=Object(S["a"])("div",{target:"e5i1odf0"})({borderRadius:"3px",overflow:"hidden","> div":{height:"100%"}},"label:Container;");var ae=Object(te["d"])({"body div .nc_wrapper":{boxSizing:"border-box",height:"100%",padding:"1px",background:O["dark8"],".nc_scale":{height:"100%",background:"transparent",".nc_bg":{width:0,borderRadius:"3px",background:"linear-gradient(to left, #4db6ac, #80cbc4)",zIndex:2,boxShadow:"3px 0 0 0 #4db6ac"},".nc_iconfont":{height:"100%",width:"50px",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",border:"none"},".scale_text":{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",'.nc-lang-cnt, .nc-lang-cnt[data-nc-lang="_startTEXT"]':{color:O["dark5"],background:"transparent",webkitTextFillColor:"initial"}}}}},"label:globalStyle;");var re=function(t){Object(c["d"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.elementId=""+Date.now();e.noCaptcha=null;return e}Object.defineProperty(e.prototype,"options",{get:function(){var t=this;var n=Object(i["a"])()?"nc_message_h5":"message";return{renderTo:"#"+this.elementId,appkey:"FFFF000000000179BB25",scene:n,customWidth:"100%",token:"FFFF000000000179BB25"+":"+Date.now()+":"+Math.random(),callback:function(e){t.props.onSuccess(Object(c["a"])(Object(c["a"])({},e),{scene:n}))}}},enumerable:true,configurable:true});e.prototype.componentDidMount=function(){var t=this;e.prepare().then(function(e){t.noCaptcha=e(t.options)})};e.prototype.componentWillUnmount=function(){if(this.noCaptcha){this.noCaptcha.destroy()}};e.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(te["b"],{styles:ae}),u.a.createElement(ne,{id:this.elementId}))};e.prepare=ee;return e}(u.a.PureComponent);var ie=n("0cIN");var oe=n("G2Mx");function le(t){return Object(ie["a"])(0,1e3).pipe(Object(oe["a"])(t+1),Object(G["a"])(function(e){return t-e}),Object(G["a"])(function(e){return e>0?e:null}))}var ce=n("H5qd");var ue=n.n(ce);var se=n("5Nzd");var de=n("Y7lc");var me=ue()(fe||(fe=Object(c["f"])(["\n  mutation sendVerificationSms($smsInput: SendVerificationInput!) {\n    sendVerificationSms(smsInput: $smsInput) {\n      ok\n      error\n    }\n  }\n"],["\n  mutation sendVerificationSms($smsInput: SendVerificationInput!) {\n    sendVerificationSms(smsInput: $smsInput) {\n      ok\n      error\n    }\n  }\n"])));function pe(e){return se["b"].getInstanceByToken(de["d"].provide)({mutation:me,variables:{smsInput:e}}).pipe(Object(G["a"])(function(e){var t=e.data,n=e.errors;if(t){return t.sendVerificationSms}else{throw JSON.stringify(n)}}))}var fe;var ve=n("qzvP");var be="40px";var ge=Object(S["a"])("div",{target:"e5i1odf0"})({position:"relative",width:"100%"},"label:Container;");var he=Object(ve["a"])({width:"100%",input:{height:be,boxSizing:"border-box",paddingRight:"50%"}},"label:input;");var ye=Object(S["a"])("span",{target:"e5i1odf1"})(function(e){var t=e.isDisabled;return t?{pointerEvents:"none",opacity:.6}:null},{position:"absolute",top:0,right:"13px",fontSize:"14px",lineHeight:be,cursor:"pointer",maxWidth:"50%",color:O["dblue6"],opacity:.9,transition:"opacity 0.3s","&:hover":{opacity:1}},"label:Action;");var ke=Object(S["a"])("div",{target:"e5i1odf2"})({position:"absolute",top:0,left:0,right:0,bottom:0,"> div":{width:"100%",height:be,background:"white"}},"label:AliSlideAuthContainer;");var Ee=60;var Se=function(e){Object(c["d"])(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;a.state={sentCount:0,countdown:null,isShowAliSlideAuth:false};a.aliSlideAuthSuccess$=new _["a"];a.subscription=new U["a"];a.sendCode=function(){var e=new _["a"];var t=e.pipe(Object(z["a"])(function(){return!a.isActionDisabled}),Object(W["a"])(a.props.getPhoneNumber),Object(V["a"])(function(){a.setState({isShowAliSlideAuth:true})}));var n=Object(K["a"])(t,a.aliSlideAuthSuccess$).pipe(Object(W["a"])(function(e){var t=Object(c["i"])(e,2),n=t[0],a=t[1];return pe({phoneNum:n,templateId:"SMS_119915003",sig:a.sig,token:a.token,scene:a.scene,csessionid:a.csessionid})}),Object(V["a"])(function(e){var t=e.error;a.props.onSendCodeError(t);a.setState({isShowAliSlideAuth:false})}),Object(z["a"])(function(e){var t=e.ok;return t}),Object(V["a"])(function(){a.setState(function(e){var t=e.sentCount;return{sentCount:t+1}})}),Object(W["a"])(function(){return le(Ee)}),Object(V["a"])(function(e){a.setState({countdown:e})}),Object($["a"])(function(e){var t=e instanceof Error?e.message:String(e);a.props.onSendCodeError(t);a.setState({isShowAliSlideAuth:false});return Object(q["a"])(e)}));a.subscription.add(n.subscribe());return function(){e.next()}}();a.onAliSlideAuthSuccess=function(e){a.aliSlideAuthSuccess$.next(e)};return a}Object.defineProperty(t.prototype,"inputProps",{get:function(){return Z()(this.props,"getPhoneNumber","onSendCodeError")},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"actionName",{get:function(){var e=this.state.sentCount>0?"重新发送验证码":"获取短信验证码";return this.state.countdown===null?e:this.state.countdown+" 秒"},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isActionDisabled",{get:function(){return this.state.countdown!==null},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){re.prepare()};t.prototype.componentWillUnmount=function(){this.subscription.unsubscribe();this.aliSlideAuthSuccess$.complete()};t.prototype.render=function(){return u.a.createElement(ge,null,u.a.createElement(v["Input"],Object(c["a"])({className:he},this.inputProps)),this.renderAction(),this.renderAliSlideAuth())};t.prototype.renderAction=function(){return u.a.createElement(ye,{onClick:this.sendCode,isDisabled:this.isActionDisabled},this.actionName)};t.prototype.renderAliSlideAuth=function(){return this.state.isShowAliSlideAuth&&u.a.createElement(ke,null,u.a.createElement(re,{onSuccess:this.onAliSlideAuthSuccess}))};return t}(u.a.PureComponent);var Oe=Se;var je=ue()(Ce||(Ce=Object(c["f"])(["\n  mutation validatePhoneCode($phoneNum: String!, $phoneCode: String!) {\n    validatePhoneCode(phoneNum: $phoneNum, phoneCode: $phoneCode) {\n      ok\n      error\n    }\n  }\n"],["\n  mutation validatePhoneCode($phoneNum: String!, $phoneCode: String!) {\n    validatePhoneCode(phoneNum: $phoneNum, phoneCode: $phoneCode) {\n      ok\n      error\n    }\n  }\n"])));function Ne(e){return se["b"].getInstanceByToken(de["d"].provide)({mutation:je,variables:e}).pipe(Object(G["a"])(function(e){var t=e.data,n=e.errors;if(t){return t.validatePhoneCode}else{throw JSON.stringify(n)}}))}var Ce;function xe(e){return e[v["PHONE_NUMBER"].name]||""}var we=function(e){Object(c["d"])(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;n.state={isValidating:false};n.formRef=u.a.createRef();n.subscription=new U["a"];n.verifyCode$=new _["a"];n.process$=n.verifyCode$.pipe(Object(W["a"])(function(){return n.validateInputs("onSubmit")}),Object(V["a"])(function(){n.setState({isValidating:true})}),Object(Q["a"])(function(e){return Ne({phoneNum:e[v["PHONE_NUMBER"].name],phoneCode:e[v["PHONE_CODE"].name]}).pipe(Object(V["a"])(function(e){var t=e.error;n.setState({isValidating:false});n.showSMSInputError(t)}),Object(z["a"])(function(e){var t=e.ok;return t}),Object(H["a"])(e))}),Object(V["a"])(n.props.goNextStep),Object($["a"])(function(e){var t=e instanceof Error?e.message:String(e);n.showSMSInputError(t);return Object(q["a"])(e)}));n.getPhoneNumber=function(){return Object(L["a"])(n.validateInputs("onSendCode")).pipe(Object(G["a"])(xe))};n.onClickNextStepButton=function(){n.verifyCode$.next()};n.showSMSInputError=function(e){if(n.formRef.current){n.formRef.current.showError(v["PHONE_CODE"].name,e)}};return n}t.prototype.componentDidMount=function(){this.subscription.add(this.process$.subscribe())};t.prototype.componentWillUnmount=function(){this.verifyCode$.complete();this.subscription.unsubscribe()};t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,onKeyDownEnter:this.onClickNextStepButton},u.a.createElement(v["Input"],Object(c["a"])({},v["PHONE_NUMBER"],{placeholder:"中国大陆手机号码"})),u.a.createElement(Oe,Object(c["a"])({},v["PHONE_CODE"],{onSendCodeError:this.showSMSInputError,getPhoneNumber:this.getPhoneNumber,placeholder:"短信验证码"}))),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickNextStepButton,disabled:this.state.isValidating},"下一步"))};t.prototype.validateInputs=function(e){return this.formRef.current?this.formRef.current.validateInputs(e):B["a"]};return t}(u.a.PureComponent);var Fe=we;var Pe=Object(ve["a"])({opacity:0,pointerEvents:"none",position:"absolute"},"label:hide;");var Ie=function(e){Object(c["d"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={isSubmitting:false};t.formRef=u.a.createRef();t.onSubmit=function(e){if(e.location){t.savePasswordToBrowser().then(function(){window.location.href=e.location})}else{t.afterSubmit(e)}};t.beforeSubmit=function(){t.setState({isSubmitting:true})};t.afterSubmit=function(e){t.setState({isSubmitting:false});t.showSubmitErrors(e)};t.onClickSignUp=function(){if(!t.state.isSubmitting&&t.formRef.current){t.formRef.current.submit({url:"/accounts/signup/",extraFormValue:Object(c["a"])(Object(c["a"])({},t.props.step1Form),{phone_email_select:"phone",next:t.props.next||"/",username:"placeholder"})})}};t.onConfirmPasswordFieldBlur=function(){if(t.formRef.current){t.formRef.current.validateInputs("onBlur")}};return t}t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,beforeSubmit:this.beforeSubmit,onSubmit:this.onSubmit,onKeyDownEnter:this.onClickSignUp},u.a.createElement(v["Input"],Object(c["a"])({},v["NEW_NICKNAME"],{placeholder:"昵称"})),u.a.createElement("input",{disabled:true,name:v["PHONE_NUMBER"].name,className:Pe,autoComplete:v["PHONE_NUMBER"].autoComplete,value:this.props.step1Form[v["PHONE_NUMBER"].name]}),u.a.createElement(v["Input"],Object(c["a"])({},v["NEW_PASSWORD"],{placeholder:"密码"})),u.a.createElement(v["Input"],Object(c["a"])({},v["CONFIRM_PASSWORD"],{onBlur:this.onConfirmPasswordFieldBlur,placeholder:"再次确认密码"}))),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickSignUp,disabled:this.state.isSubmitting},"注册"))};t.prototype.savePasswordToBrowser=function(){return Object(c["b"])(this,void 0,Promise,function(){var t=this;return Object(c["e"])(this,function(e){switch(e.label){case 0:if(!this.formRef.current)return[3,2];return[4,this.formRef.current.getFormValues().then(function(e){return{id:t.props.step1Form[v["PHONE_NUMBER"].name],password:e[v["NEW_PASSWORD"].name]}}).then(I["a"])];case 1:e.sent();e.label=2;case 2:return[2]}})})};t.prototype.showSubmitErrors=function(e){if(this.formRef.current){var n=e.form.fields;var a=this.formRef.current;Object.keys(n).forEach(function(e){var t=n[e].errors[0];if(t){a.showError(e,t)}})}};return t}(u.a.PureComponent);var Ae=Object(p["c"])(Ie);var Me=Object(S["a"])("span",{target:"e5i1odf0"})({display:"inline-block",margin:"20px auto",fontSize:"14px",color:O["dblue6"],cursor:"pointer"},"label:GoPrevStep;");var De=Object(S["a"])("div",{target:"e5i1odf1"})({textAlign:"center",marginTop:"20px",color:O["dark6"],span:{color:O["dblue6"],fontSize:"14px",lineHeight:"20px",cursor:"pointer",marginLeft:"0.5em"}},"label:GoSignIn;");var Re=function(e){Object(c["d"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={step1Form:{}};t.onGoingToStep2=function(e){t.setState({step1Form:e},t.props.goStep2)};return t}t.prototype.render=function(){return this.props.currentStepIsStep1?this.renderStep1():this.renderStep2()};t.prototype.renderStep1=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Fe,{goNextStep:this.onGoingToStep2}),u.a.createElement(De,null,"已有账号? ",u.a.createElement("span",{onClick:this.props.goSignIn},"登录")),u.a.createElement(b["a"],null))};t.prototype.renderStep2=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ae,{step1Form:this.state.step1Form}),u.a.createElement(Me,{onClick:this.props.goStep1},"上一步"),u.a.createElement(M,null))};return t}(u.a.PureComponent);var Te=u.a.forwardRef(function(a,r){return u.a.createElement(E,null,function(e){var t=e.goStep,n=e.isCurrentStep;return u.a.createElement(Re,Object(c["a"])({},a,{ref:r,goStep1:t(g.SignUpByMobileInStep1),goStep2:t(g.SignUpByMobileInStep2),goSignIn:t(g.SignIn),currentStepIsStep1:n(g.SignUpByMobileInStep1)}))})});var Ue=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(P,null),u.a.createElement(E,null,function(e){var t=e.isCurrentStep;return t(g.SignUpByEmail)?u.a.createElement(T,null):u.a.createElement(Te,null)}))};var _e=n("1ZoV");var qe=n.n(_e);var Le=Object(S["a"])("div",{target:"e5i1odf0"})({display:"flex",flexDirection:"column",alignItems:"stretch"},"label:Container;");var Be=Object(S["a"])("img",{target:"e5i1odf1"})({height:"39px",marginBottom:"31px"},"label:Logo;");var We=function(e){Object(c["d"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={currentStep:t.props.defaultShowSignUp?g.SignUpByMobileInStep1:g.SignIn};t.updateCurrentStep=function(e){t.setState({currentStep:e})};t.isCurrentStep=function(e){return t.state.currentStep===e};t.goStep=function(e){return function(){t.updateCurrentStep(e)}};return t}Object.defineProperty(t.prototype,"stepProviderValue",{get:function(){return{goStep:this.goStep,isCurrentStep:this.isCurrentStep,currentStep:this.state.currentStep}},enumerable:true,configurable:true});t.prototype.render=function(){return u.a.createElement(Le,null,!Object(i["a"])()&&u.a.createElement(Be,{alt:"LeetCode",src:qe.a}),u.a.createElement(k,{value:this.stepProviderValue},this.isCurrentStep(g.SignIn)?u.a.createElement(x,null):u.a.createElement(Ue,null)))};return t}(u.a.PureComponent);var Ve=Object(p["c"])(We);var Qe=Object(S["a"])("div",{target:"e5i1odf0"})({maxWidth:"340px",margin:"0 auto"},"label:SignInContainer;");var ze=function(e){return u.a.createElement(p["b"],{value:e},u.a.createElement(Qe,null,u.a.createElement(Ve,null)))};var He=n("5ZzG");var $e=Object(S["a"])(He["a"],{target:"e5i1odf0"})({width:"20px",height:"20px",padding:"10px",boxSizing:"content-box",color:O["dblue1"],cursor:"pointer",position:"absolute",right:0,top:0,transition:"all 0.2s ease","&:hover":{color:O["dblue6"]}},"label:CloseIcon;");var Ge=function(e){return u.a.createElement($e,{type:"close",onClick:e})};var Ke=X()(function(){var e=document.createElement("div");e.classList.add("sign-in-modal-container");document.body.appendChild(e);return e});n.d(t,"a",function(){return Je});var Je=function(t){Object(c["d"])(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;e.titleStyle={position:"relative",padding:"20px",background:"linear-gradient(to top, #ffffff, #fafafa)",borderRadius:"3px 3px 0 0",display:"flex",alignItems:"center"};return e}i.hide=function(){o.a.render(u.a.createElement(i,{visible:false}),Ke())};i.signIn=function(e){if(e===void 0){e={}}var t=e.afterSignIn,n=e.defaultShowSignUp,a=e.user,r=Object(c["j"])(e,["afterSignIn","defaultShowSignUp","user"]);if(!a||a.isUpdated&&!a.isSignedIn){o.a.render(u.a.createElement(i,Object(c["a"])({defaultShowSignUp:n,visible:true,onClose:i.hide},r)),Ke())}else{if(typeof t==="function"){t()}}};i.signUp=function(e){if(e===void 0){e={}}i.signIn(Object(c["a"])(Object(c["a"])({},e),{defaultShowSignUp:true}))};i.ensureSignedIn=function(e,t){return function(){i.signIn(Object(c["a"])(Object(c["a"])({},t),{afterSignIn:e}))}};i.ensureVerified=function(e,t){return function(){i.signIn(Object(c["a"])(Object(c["a"])({},t),{afterSignIn:function(){if(t.user.isVerified){e()}else{d["a"].error(u.a.createElement("span",null,"请验证手机或邮箱后继续操作，",u.a.createElement("a",{href:l["a"].main.PATH.profile.account},"前往验证")))}}}))}};i.ensurePhoneVerified=function(e,t){return function(){i.signIn(Object(c["a"])(Object(c["a"])({},t),{afterSignIn:function(){if(t.user.isPhoneVerified){e()}else{d["a"].error(u.a.createElement("span",null,"请绑定手机后继续操作，",u.a.createElement("a",{href:l["a"].main.PATH.profile.account},"前往绑定")))}}}))}};i.prototype.render=function(){var e=this.props,t=e.visible,n=e.closable,a=e.onClose,r=e.additionalFooter,i=Object(c["j"])(e,["visible","closable","onClose","additionalFooter"]);var o=typeof i.next==="string"?i.next:s["a"].getCurrentRelativePath();var l=function(){return null};return u.a.createElement(m["a"],{destroyOnClose:true,visible:t,onClose:a,width:400,contentPadding:"0 20px 20px",titleStyle:this.titleStyle,title:"",hasFooter:false,maskClosable:n,closeButton:n?Ge:l},u.a.createElement(ze,Object(c["a"])({},i,{next:o})),r)};return i}(u.a.PureComponent)},"V5/1":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("D57K");var r=n("ERkP");var i=n.n(r);var o=n("jWsR");var l=n("yu9t");var c=function(e){return i.a.createElement(o["a"],Object(a["a"])({},e,{kind:l["a"].Input}))}},aDWd:function(e,t,n){e.exports=n.p+"7917192c073e5f349bad8cbee200c428.jpg"},bcHh:function(e,t,n){e.exports=n.p+"b57ccb2c31ad894cf5f431b637f524d3.png"},cuV4:function(e,t,n){e.exports=n.p+"785e0d3aad5988c6461146964f91f17a.jpg"},dTXi:function(e,t,n){"use strict";var b=n("D57K");var v=n("ERkP");var g=n.n(v);var a=n("ildc");var r=n("zCf4");var i=n("9xBf");var o=n("DoiJ");var l=n("S0yW");var c=n("DjZ7");var h=n("K/af");var u=n("Klpt");var y=n("5ZzG");var s=n("YnR9");var k=n("6h7y");var E=n("8d7B");var S=n("8NtH");var d=n("YnYl");var m=n("VF98");var p=n("mQQu");var f=n("4+Z5");var O=n("LJ7e");var j=n("SwI/");var N=O["a"].div({position:"relative"},"label:Container;");var C=O["a"].div({position:"absolute",left:"12px",top:"-3px",background:j["a"].red4,border:"2px solid "+j["a"].white,borderRadius:"8px",color:j["a"].white,display:"inline-block",fontFamily:"FetteMittelschrift, sans-serif",fontSize:"12px",lineHeight:"12px",padding:"0 4px",textAlign:"center",pointerEvents:"none"},function(e){var t=e.isShow;return{opacity:t?1:0,transition:"opacity 0.18s ease-in-out"}},"label:Counter;");var x=function(e){Object(b["d"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.componentDidMount=function(){Object(p["b"])(this.props.numUnread)};t.prototype.componentDidUpdate=function(e){if(e.numUnread!==this.props.numUnread){Object(p["b"])(this.props.numUnread)}};t.prototype.render=function(){var e=this.props,t=e.numUnread,n=Object(b["j"])(e,["numUnread"]);return g.a.createElement(N,null,g.a.createElement(m["Helmet"],null,g.a.createElement("link",{rel:"icon",type:"image/png",href:f["a"]["favicon"+(t?"Notification":"")+"16x16"],sizes:"16x16"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:f["a"]["favicon"+(t?"Notification":"")+"32x32"],sizes:"32x32"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:f["a"]["favicon"+(t?"Notification":"")+"96x96"],sizes:"96x96"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:f["a"]["favicon"+(t?"Notification":"")+"160x160"],sizes:"160x160"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:f["a"]["favicon"+(t?"Notification":"")+"192x192"],sizes:"192x192"})),g.a.createElement(y["a"],Object(b["a"])({type:"notification"},n)),g.a.createElement(C,{isShow:t>0},Object(p["a"])(t)))};return t}(g.a.PureComponent);var w=15;var F=20;var P=n("5Nzd");var I=n("u3dr");var A=n("2wT7");var M=n("iJR/");var D=n("mUyW");var R=n("gQst");var T=n("HnWI");var U=n("eb+u");var _=n("rzNM");var q=n("Jg5f");var L=n("W/Ou");var B=n("4HYP");var W=n("AouM");var V=n("mhnT");var Q=n("QXhF");var z=n("B07F");var H=n("w+fZ");var $=n("6/5F");var G=n("Njp8");var K=n("ABDk");var J=n("GE63");var Z=n.n(J);var Y=n("6CID");var X=n.n(Y);var ee=n("7VoO");var te=n.n(ee);var ne;var ae;(function(e){e["Navbar"]="navbar";e["Page"]="page"})(ae||(ae={}));var re="online-users-room";var ie={loading:true,firstLoad:true,hasMore:true,nextPage:0,unreadNumber:0};var oe=(ne={},ne[d["a"].AnySubActivity]=Object(b["a"])(Object(b["a"])({},ie),{key:d["a"].AnySubActivity,activities:[]}),ne[d["a"].NotificationFromSite]=Object(b["a"])(Object(b["a"])({},ie),{key:d["a"].NotificationFromSite,activities:[]}),ne[d["a"].NotificationAboutMe]=Object(b["a"])(Object(b["a"])({},ie),{key:d["a"].NotificationAboutMe,activities:[]}),ne[d["a"].NotificationFollowInfo]=Object(b["a"])(Object(b["a"])({},ie),{key:d["a"].NotificationFollowInfo,activities:[]}),ne);var le=[{key:d["a"].NotificationFromSite,icon:"list"},{key:d["a"].NotificationAboutMe,icon:"chat-o"},{key:d["a"].NotificationFollowInfo,icon:"group"}];var ce={filter:d["a"].AnySubActivity,categories:oe,totalUnreadNumber:0};var ue=function(a){Object(b["d"])(e,a);function e(e,t){var n=a.call(this)||this;n.client=e;n.logger=t;n.defaultState=ce;return n}e.prototype.updateFilter=function(e,t){return Object(b["a"])(Object(b["a"])({},e),{filter:t})};e.prototype.updateNotifications=function(e,t){var n;var a=t.data,r=t.filter;var i=e.categories[r];return Object(b["a"])(Object(b["a"])({},e),{categories:Object(b["a"])(Object(b["a"])({},e.categories),(n={},n[r]=Object(b["a"])(Object(b["a"])({},i),{firstLoad:false,activities:i.activities.concat(a.nodes),loading:false,nextPage:i.nextPage+1,hasMore:a.hasMore}),n))})};e.prototype.setLoading=function(e,t){var n;return Object(b["a"])(Object(b["a"])({},e),{categories:Object(b["a"])(Object(b["a"])({},e.categories),(n={},n[t]=Object(b["a"])(Object(b["a"])({},e.categories[t]),{loading:true,firstLoad:false}),n))})};e.prototype.getNotifications=function(e,t){var r=this;return e.pipe(Object(U["a"])(t),Object(_["a"])(function(e){var t=Object(b["i"])(e,2),n=t[0],a=t[1];return r.client.query({query:te.a,variables:{subType:a.filter,numPerPage:n,page:a.categories[a.filter].nextPage},fetchPolicy:"network-only"}).pipe(Object(Q["a"])("获取通知失败"),Object(q["a"])(function(e){var t=e.data;return r.getActions().updateNotifications({data:t.myNotificationV2,filter:a.filter})}),Object(L["a"])(r.getActions().setLoading(a.filter)))}))};e.prototype.markAllRead=function(e){var t=this;return e.pipe(Object(_["a"])(function(e){return t.client.mutate({mutation:X.a,variables:{subType:e}}).pipe(Object(Q["a"])("标记所有通知已读失败"),Object(q["a"])(function(){return t.getActions().updateUnreadNumber({subType:e,num:0})}))}))};e.prototype.updateUnreadNumber=function(e,t){var n;var a=t.subType,r=t.num;var i=e.categories[a];return Object(b["a"])(Object(b["a"])({},e),{totalUnreadNumber:e.totalUnreadNumber-i.unreadNumber+r,categories:Object(b["a"])(Object(b["a"])({},e.categories),(n={},n[a]=Object(b["a"])(Object(b["a"])({},i),{unreadNumber:r}),n))})};e.prototype.getUnreadNumber=function(e){var a=this;return e.pipe(Object(_["a"])(function(){return Object(M["a"])(le).pipe(Object(B["a"])(function(e){var n=e.key;return a.client.query({query:Z.a,variables:{subType:n},fetchPolicy:"network-only"}).pipe(Object(q["a"])(function(e){var t=e.data;return a.getActions().updateUnreadNumber({subType:n,num:t.myUnreadNotificationNum})}))}),Object(Q["a"])("获取未读通知数量失败"))}))};e.prototype.pollingUnreadNumber=function(e){var t=this;return e.pipe(Object(W["a"])(function(){return Object(D["a"])(5*60*1e3).pipe(Object(q["a"])(t.getActions().getUnreadNumber),Object(L["a"])(t.getActions().getUnreadNumber()),Object(V["a"])(t.stopPolling$))}))};e.prototype.listenToNotificationInWs=function(e){var t=this;var n=new $["a"](K["c"].Default);n.setExceptionCallback(function(e){return t.logger.error(e)});return e.pipe(Object(W["a"])(function(){var e=K["b"].REFETCH_NOTIFICATION_NUM;return Object(R["a"])(n.observeRoomEvent(Object(G["a"])(re),e),n.observeMyRoomEvent(e))}),Object(q["a"])(function(){return t.getActions().getUnreadNumber()}))};e.prototype.clearAllNotifications=function(t){le.forEach(function(e){t.categories[e.key]=Object(b["a"])(Object(b["a"])({},t.categories[e.key]),{firstLoad:true,hasMore:true,nextPage:0,activities:[]})})};var t,n,r,i,o,l,c,u,s,d,m,p,f,v;Object(b["c"])([Object(I["a"])(),Object(b["g"])("design:type",typeof(t=typeof T["a"]!=="undefined"&&T["a"])==="function"?t:Object)],e.prototype,"stopPolling$",void 0);Object(b["c"])([Object(I["d"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object,Object]),Object(b["g"])("design:returntype",Object)],e.prototype,"updateFilter",null);Object(b["c"])([Object(I["d"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object,Object]),Object(b["g"])("design:returntype",Object)],e.prototype,"updateNotifications",null);Object(b["c"])([Object(I["d"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object,Object]),Object(b["g"])("design:returntype",Object)],e.prototype,"setLoading",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(n=typeof T["a"]!=="undefined"&&T["a"])==="function"?n:Object,typeof(r=typeof T["a"]!=="undefined"&&T["a"])==="function"?r:Object]),Object(b["g"])("design:returntype",typeof(i=typeof T["a"]!=="undefined"&&T["a"])==="function"?i:Object)],e.prototype,"getNotifications",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(o=typeof T["a"]!=="undefined"&&T["a"])==="function"?o:Object]),Object(b["g"])("design:returntype",typeof(l=typeof T["a"]!=="undefined"&&T["a"])==="function"?l:Object)],e.prototype,"markAllRead",null);Object(b["c"])([Object(I["d"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object,Object]),Object(b["g"])("design:returntype",Object)],e.prototype,"updateUnreadNumber",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(c=typeof T["a"]!=="undefined"&&T["a"])==="function"?c:Object]),Object(b["g"])("design:returntype",typeof(u=typeof T["a"]!=="undefined"&&T["a"])==="function"?u:Object)],e.prototype,"getUnreadNumber",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(s=typeof T["a"]!=="undefined"&&T["a"])==="function"?s:Object]),Object(b["g"])("design:returntype",typeof(d=typeof T["a"]!=="undefined"&&T["a"])==="function"?d:Object)],e.prototype,"pollingUnreadNumber",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(m=typeof T["a"]!=="undefined"&&T["a"])==="function"?m:Object]),Object(b["g"])("design:returntype",typeof(p=typeof T["a"]!=="undefined"&&T["a"])==="function"?p:Object)],e.prototype,"listenToNotificationInWs",null);Object(b["c"])([Object(I["c"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object]),Object(b["g"])("design:returntype",void 0)],e.prototype,"clearAllNotifications",null);e=Object(b["c"])([Object(P["a"])(),Object(b["g"])("design:paramtypes",[typeof(f=typeof z["a"]!=="undefined"&&z["a"])==="function"?f:Object,typeof(v=typeof H["a"]!=="undefined"&&H["a"])==="function"?v:Object])],e);return e}(A["a"]);var se=n("daAW");var de=n("v31z");var me=n("JFCy");var pe=O["a"].div({flex:1,display:"flex",flexDirection:"column",alignItems:"center",overflowX:"hidden",overflowY:"auto",overscrollBehavior:"contain"},"label:NotificationScrollContainer;");var fe=O["a"].div({display:"flex",flexDirection:"column",background:"white",width:"480px",height:"480px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"4px",overflow:"hidden",WebkitFontSmoothing:"antialiased"},"label:NotificationMenuContainer;");var ve=O["a"].div({height:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 12px",borderTop:"1px solid "+j["a"].dark9},"label:NotificationMenuBar;");var be=Object(O["a"])(se["b"],{target:"e5i1odf0"})({color:j["a"].dblue4,"&:active, &:focus, &:hover, &:visited":{textDecoration:"none"},"&:hover":{color:j["a"].dblue6}},"label:NotificationListLink;");var ge=Object(O["a"])(u["a"].Menu,{target:"e5i1odf1"})({padding:"0 !important",overflow:"hidden",borderBottomLeftRadius:"0",borderBottomRightRadius:"0","& > .ant-dropdown-menu-item":{height:"auto",background:"white",padding:"0 !important","&.ant-dropdown-menu-item-active":{background:"linear-gradient(180deg, white, "+j["a"].dark10+")"}},"& > li":{display:"block",padding:"0 20px",position:"relative"}},"label:StyledDropdownMenu;");var he=Object(O["a"])(u["a"].Menu.Item,{target:"e5i1odf2"})({"&:not(:last-of-type)":{borderBottom:"1px solid "+j["a"].dark8}},"label:StyledDropdownMenuItem;");var ye=g.a.createContext({isNoj:true});var ke=function(){return g.a.createElement(de["a"],{icon:"settings",size:me["b"],type:"transparent"},"设置")};var Ee=function(){return g.a.createElement(de["a"],{size:me["b"],type:"transparent"},"查看全部通知")};var Se=Object(v["memo"])(function(e){var t=Object(v["useContext"])(ye).isNoj;var n=t?g.a.createElement(g.a.Fragment,null,g.a.createElement("a",{href:s["a"].main.PATH.profile.notifications},g.a.createElement(ke,null)),g.a.createElement("a",{href:s["a"].main.PATH.notifications.home},g.a.createElement(Ee,null))):g.a.createElement(g.a.Fragment,null,g.a.createElement(se["b"],{to:s["a"].main.PATH.profile.notifications},g.a.createElement(ke,null)),g.a.createElement(se["b"],{to:s["a"].main.PATH.notifications.home},g.a.createElement(Ee,null)));return g.a.createElement(u["a"],{trigger:["click"],align:{points:["tr","br"],offset:[42,12]},onVisibleChange:e.onVisibleChange,overlay:g.a.createElement(g.a.Fragment,null,g.a.createElement(fe,null,e.overlay,g.a.createElement(ve,null,n)))},e.children)});var Oe=n("8JP3");var je=n("Pigy");var Ne=n("fsDi");var Ce=O["a"].div({flex:1,display:"flex",flexDirection:"column",alignItems:"center",fontSize:"12px",lineHeight:"14px",background:j["a"].white},"label:Rows;");var xe=O["a"].div({width:"100%",padding:"15px 20px",backgroundColor:"white",borderBottom:"1px solid "+j["a"].grey2,display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},"label:Row;");var we=Object(O["a"])(xe,{target:"e5i1odf0"})({":hover":{background:"#EDEFF1"}},"label:HoverRow;");var Fe=Object(O["a"])("div",{target:"e5i1odf1"})({width:"100%",height:"600px"},"label:PlaceholderWrapper;");var Pe=n("lSUb");var Ie=n("z0YO");var Ae=n("m3my");var Me=O["a"].div(function(e){var t=e.isActive,n=e.hasUnread;return Object(b["a"])(Object(b["a"])({position:"relative",display:"flex",alignItems:"center",fontSize:"12px",color:t?j["a"].dblue7:j["a"].grey4,userSelect:"none",margin:"0 10px"},Object(Ae["a"])(".2s")),{":hover":{color:j["a"].dblue7},"::after":{content:'""',position:"absolute",display:n?"block":"none",width:"5px",height:"5px",borderRadius:"50%",background:j["a"].redA2,top:0,right:"-6px"}})},"label:TabTitle;");var De=Object(Pe["a"])(function(e,t,n){return g.a.createElement(Me,{isActive:t,hasUnread:n},e)});var Re=Object(v["memo"])(function(t){var e=Object(v["useCallback"])(function(e){t.onTabChange(e)},[t.onTabChange]);return g.a.createElement(Ie["a"],{tabWidth:t.tabWidth,type:t.type,size:t.size,onChange:e,activeKey:t.currentTab},t.tabs.map(function(e){return g.a.createElement(Ie["a"].Tab,{title:De(e.title,e.key===t.currentTab,e.unreadNumber&&e.unreadNumber>0),key:e.key},false)}))});var Te=n("wgY5");var Ue=n.n(Te);var _e=n("NAi2");var qe;var Le=O["a"].div(function(e){var t=e.unread;return{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"12px",lineHeight:"17px",color:j["a"].black,fontWeight:t?"bold":"normal"}},"label:Wrapper;");var Be=Object(O["a"])("div",{target:"e5i1odf0"})({display:"inline",".leetcoin":{height:"12px",verticalAlign:"-1.5px"},"> a":Object(b["a"])(Object(b["a"])({color:j["a"].dblue7,display:"inline-block",verticalAlign:"top",maxWidth:"150px"},Ae["c"]),{":hover":{textDecoration:"underline"}})},"label:LeetcodeNotification;");var We=O["a"].div({"> *":{":not(:last-child)":{marginRight:"10px"}}},"label:Content;");var Ve=O["a"].div({display:"flex",alignItems:"center"},"label:SubmitCodeContent;");var Qe=O["a"].div({color:j["a"].grey5,flexShrink:0,marginLeft:"5px",fontWeight:"normal"},"label:Timestamp;");var ze=Object(O["a"])("a",{target:"e5i1odf1"})(function(e){var t=e.narrow;return Object(b["a"])(Object(b["a"])({color:j["a"].dblue7,maxWidth:t?"100px":"150px",display:"inline-block",verticalAlign:"top"},Ae["c"]),{":hover":{textDecoration:"underline"}})},"label:Link;");var He=O["a"].div((qe={display:"inline-block"},qe[""+ze]={marginRight:0},qe),"label:UserLinksWrapper;");var $e=Object(O["a"])(_e["a"],{target:"e5i1odf2"})({color:j["a"].green9,background:j["a"].green0,borderColor:j["a"].green0,transition:"background .2s ease",marginLeft:"10px",flexShrink:0,"&:hover":{color:j["a"].green9,background:j["a"].green1,borderColor:j["a"].green1}},"label:SuccessTag;");var Ge=Object(O["a"])(_e["a"],{target:"e5i1odf3"})({color:j["a"].red7,borderColor:j["a"].red0,background:j["a"].red0,transition:"background .2s ease",marginLeft:"10px",flexShrink:0,"&:hover":{color:j["a"].red9,borderColor:j["a"].red1,background:j["a"].red1}},"label:ErrorTag;");function Ke(e){if(!e.content){return null}return g.a.createElement(We,null,g.a.createElement(Be,{dangerouslySetInnerHTML:{__html:e.content||""}}),e.link&&g.a.createElement(ze,{href:e.link,target:"_blank"},"点击查看"))}var Je=function(e){var t=e.company,n=e.children;return g.a.createElement(ze,{href:"/jobs/"+t.nameSlug,target:"_blank"},n||t.name)};function Ze(e){var t=Object(b["i"])(e.actors,1),n=t[0];return g.a.createElement(We,null,g.a.createElement(Je,{company:n}),g.a.createElement("span",null,"有新的职位向你推荐"),g.a.createElement(Je,{company:n},"点击查看"))}var Ye=function(e){var t=e.user;return g.a.createElement(ze,{key:t.profile.userSlug,href:s["a"].main.paths.publicProfile.home({userSlug:t.profile.userSlug}),target:"_blank",narrow:true},t.profile.realName||t.username)};var Xe=function(e){var t=e.users,n=e.count;var a=!n||n===1?"":n===2?"2 人":"等 "+n+" 人";var r=t.map(function(e){return g.a.createElement(Ye,{key:e.username,user:e})}).reduce(function(e,t){return e.length===0?[t]:Object(b["k"])(e,["、",t])},[]);return g.a.createElement(g.a.Fragment,null,g.a.createElement(He,null,r),a)};var et=function(e){var t=e.isMyProfile,n=e.user;var a=Object(v["useContext"])(E["userContext"]);if(t){return!n||a.userSlug===n.profile.userSlug?g.a.createElement(g.a.Fragment,null,"我"):g.a.createElement(Ye,{user:n})}return null};var tt=function(e){var t=e.question;return g.a.createElement(ze,{href:"/problems/"+t.titleSlug,target:"_blank"},t.questionFrontendId+". "+(t.translatedTitle||t.title))};var nt=function(e){var t=e.questionComment,n=t.question,a=t.comment,r=e.children;return g.a.createElement(ze,{href:"/problems/"+n.titleSlug+"/comments/"+a.id,target:"_blank"},r)};var at=Object(Pe["a"])(function(e,t){if(t){return"/problems/"+t.titleSlug+"/solution/"+e.slug}return"/circle/article/"+e.uuid});var rt=function(e){var t=e.feedArticle,n=e.children;return g.a.createElement(ze,{href:""+at(t.article,t.articleQuestion),target:"_blank"},n||t.article.title)};var it=function(e){var t;var n=at(e.articleComment.article,e.articleComment.articleQuestion);if(e.articleComment.articleQuestion){t=n+"/"+e.articleComment.comment.id}else{t=n+"/comments/"+e.articleComment.comment.id}return g.a.createElement(ze,{href:t,target:"_blank"},e.children)};var ot=function(e){return e.articleQuestion?"题解":"文章"};var lt=function(e){return e.articleQuestion?s["a"].main.PATH.profile.articles:s["a"].main.PATH.discuss.myDrafts};var ct=function(t,n){if(n===void 0){n=[]}if(typeof t!=="object"||!t){return true}return Object.keys(t).filter(function(e){return!n.includes(e)}).findIndex(function(e){return t[e]===null||t[e]===undefined})>-1};function ut(e){var t=e.actors,n=e.obj,a=e.target;if(ct(n,["qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t}),g.a.createElement("span",null,"在题目"),g.a.createElement(tt,{question:a}),g.a.createElement("span",null,"中发布了题解"),g.a.createElement(rt,{feedArticle:n}))}function st(e){var t=Object(b["i"])(e.actors,1),n=t[0],a=e.obj;if(ct(a,["qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"题目"),g.a.createElement(tt,{question:n}),g.a.createElement("span",null,"新增了 1 篇题解"),g.a.createElement(rt,{feedArticle:a}))}function dt(e){var t=e.actors,n=e.obj;if(ct(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"你在",ot(n)),g.a.createElement(rt,{feedArticle:n}),g.a.createElement("span",null,"中被"),g.a.createElement(Xe,{users:t}),g.a.createElement("span",null,"提到"))}function mt(e){var t=e.actors,n=e.obj;if(ct(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"你在",ot(n)),g.a.createElement(rt,{feedArticle:n}),g.a.createElement("span",null,"的评论中被"),g.a.createElement(Xe,{users:t}),g.a.createElement("span",null,"提到"),g.a.createElement(it,{articleComment:n},"点击查看"))}function pt(e){var t=e.actors,n=e.obj;if(ct(n)){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"你在题目"),g.a.createElement(tt,{question:n.question}),g.a.createElement("span",null,"的评论中被"),g.a.createElement(Xe,{users:t}),g.a.createElement("span",null,"提到"),g.a.createElement(nt,{questionComment:n},"点击查看"))}function ft(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a)){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"回复了你在题目"),g.a.createElement(tt,{question:a.question}),g.a.createElement("span",null,"中的评论"),g.a.createElement(nt,{questionComment:a},"点击查看"))}function vt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a)){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"赞了你在题目"),g.a.createElement(tt,{question:a.question}),g.a.createElement("span",null,"中的评论"),g.a.createElement(nt,{questionComment:a},"点击查看"))}function bt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"赞了你在",ot(a)),g.a.createElement(rt,{feedArticle:a}),g.a.createElement("span",null,"中的评论"),g.a.createElement(it,{articleComment:a},"点击查看"))}function gt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"赞了你的",ot(a)),g.a.createElement(rt,{feedArticle:a}))}function ht(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"评论了你的",ot(a)),g.a.createElement(rt,{feedArticle:a}),g.a.createElement(it,{articleComment:a},"点击查看"))}function yt(e){var t=e.actors;return g.a.createElement(We,null,g.a.createElement(Xe,{users:t}),g.a.createElement("span",null,"关注了我"))}function kt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"回复了你在",ot(a)),g.a.createElement(rt,{feedArticle:a}),g.a.createElement("span",null,"中的评论"),g.a.createElement(it,{articleComment:a},"点击查看"))}function Et(e){var t=e.obj,n=e.content;if(ct(t,["articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"您的",ot(t)),g.a.createElement(ze,null,t.article.title),g.a.createElement("span",null,"因涉嫌",n,"被下线"),g.a.createElement(ze,{href:lt(t)},"点击查看"))}function St(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"编辑了",ot(a)),g.a.createElement(rt,{feedArticle:a}))}function Ot(e){var t=e.actorNums,n=e.obj;if(ct(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,ot(n)),g.a.createElement(rt,{feedArticle:n}),g.a.createElement("span",null,"新增了 ",t," 条评论"))}var jt=s["a"].main.paths;var Nt=function(e){var t=e.question,n=e.children;return g.a.createElement(ze,{href:jt.discuss.discussionDetail({discussId:t.uuid}),target:"_blank"},n||t.title)};var Ct=function(e){var t=e.answer,n=e.question,a=e.children;return g.a.createElement(ze,{href:jt.discuss.viewShare({discussId:n.uuid,viewId:t.uuid}),target:"_blank"},a)};var xt=function(e){var t=e.comment,n=e.children;return g.a.createElement(ze,{href:jt.discuss.viewCommentShare({discussId:t.qaQuestion.uuid,viewId:t.article.uuid,commentId:t.comment.id}),target:"_blank"},n)};function wt(e){var t=e.actors,n=e.obj,a=e.actorNums;if(ct(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:a}),g.a.createElement("span",null,"参与了讨论"),g.a.createElement(Nt,{question:n.article}))}function Ft(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"更新了讨论"),g.a.createElement(Nt,{question:a.article}))}function Pt(e){var t=e.actors,n=e.obj;if(ct(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"你在讨论"),g.a.createElement(Nt,{question:n.article}),g.a.createElement("span",null,"中被"),g.a.createElement(Xe,{users:t}),g.a.createElement("span",null,"提到"))}function It(e){var t=Object(b["i"])(e.actors,1),n=t[0],a=e.obj;if(ct(a,["articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"你在"),g.a.createElement(Ye,{user:n}),g.a.createElement("span",null,"的讨论"),g.a.createElement(Nt,{question:a.qaQuestion}),g.a.createElement("span",null,"中被提到"))}function At(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"赞了你在"),g.a.createElement(Nt,{question:a.qaQuestion}),g.a.createElement("span",null,"下的讨论"),g.a.createElement(Ct,{answer:a.article,question:a.qaQuestion},"点击查看"))}function Mt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["qaQuestion","articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"关注了你发起的讨论"),g.a.createElement(Nt,{question:a.article}))}function Dt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"评论了你在"),g.a.createElement(Nt,{question:a.qaQuestion}),g.a.createElement("span",null,"下的讨论"),g.a.createElement(Ct,{answer:a.article,question:a.qaQuestion},"点击查看"))}function Rt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"回复了你在讨论"),g.a.createElement(Nt,{question:a.qaQuestion}),g.a.createElement("span",null,"下的评论"),g.a.createElement(xt,{comment:a},"点击查看"))}function Tt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(ct(a,["articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:n}),g.a.createElement("span",null,"赞了你在讨论"),g.a.createElement(Nt,{question:a.qaQuestion}),g.a.createElement("span",null,"下的评论"),g.a.createElement(xt,{comment:a},"点击查看"))}function Ut(e){var t=Object(b["i"])(e.actors,1),n=t[0],a=e.obj;if(ct(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement("span",null,"你在"),g.a.createElement(Ye,{user:n}),g.a.createElement("span",null,"的讨论"),g.a.createElement(Nt,{question:a.qaQuestion}),g.a.createElement("span",null,"的评论中被提到"),g.a.createElement(xt,{comment:a},"点击查看"))}function _t(e){var t=e.actors,n=e.obj,a=e.actorNums;if(ct(n,["articleQuestion"])){return null}return g.a.createElement(We,null,g.a.createElement(Xe,{users:t,count:a}),g.a.createElement("span",null,"参与了讨论"),g.a.createElement(Nt,{question:n.qaQuestion}),g.a.createElement(Ct,{answer:n.article,question:n.qaQuestion},"点击查看"))}var qt=new Map([[d["b"].UserAddArticle,ut],[d["b"].Follow,yt],[d["b"].ProblemAddArticle,st],[d["b"].JobInvite,Ze],[d["b"].ProblemCommentRefer,pt],[d["b"].ArticleCommentRefer,mt],[d["b"].ArticleRefer,dt],[d["b"].ReplyProblemComment,ft],[d["b"].UpvoteProblemComment,vt],[d["b"].UpvoteArticleComment,bt],[d["b"].UpvoteArticle,gt],[d["b"].CommentArticle,ht],[d["b"].ReplyArticleComment,kt],[d["b"].LeetcodeNotify,Ke],[d["b"].SiteNotify,Ke],[d["b"].CancelArticle,Et],[d["b"].UpdateArticle,St],[d["b"].CommentArticleAgg,Ot],[d["b"].UpdateQaquestion,Ft],[d["b"].QaquestionAddAnswer,wt],[d["b"].QaquestionRefer,Pt],[d["b"].QaanswerRefer,It],[d["b"].UpvoteQaanswer,At],[d["b"].SubscribeQaquestion,Mt],[d["b"].CommentQaanswer,Dt],[d["b"].ReplyQaanswerComment,Rt],[d["b"].UpvoteQaanswerComment,Tt],[d["b"].QaanswerCommentRefer,Ut],[d["b"].UserPublishQaanswer,_t]]);var Lt=function(e,t){try{var n=qt.get(e.verb);var a=n&&n(e);if(a){return g.a.createElement(Le,{unread:!t},a,g.a.createElement(Qe,null,Ue()(e.updatedAt*1e3).fromNow()))}return null}catch(e){var r=P["b"].getInstance(H["a"]);r.error("notification 构造失败",e);return null}};var Bt=function(e){var t=e.activity,n=e.haveRead;return Lt(t,n)};var Wt=100;var Vt=Object(v["memo"])(function(l){var e=Object(b["i"])(Object(h["a"])(ue,{scope:ae.Navbar}),1),t=e[0];var n=le.map(function(e){return{key:e.key,title:g.a.createElement(y["a"],{type:e.icon}),unreadNumber:t.categories[e.key].unreadNumber}});var a=Object(v["useCallback"])(function(e){var t=e.currentTarget;var n=t.scrollTop,a=t.scrollHeight,r=t.clientHeight;var i=a-r;var o=i-Wt;if(n>o&&l.category.hasMore){l.fetchMore(w)}},[l.category,l.fetchMore]);Object(v["useEffect"])(function(){if(l.visible&&l.category.firstLoad){l.fetchMore(w)}},[l.category,l.visible]);Object(v["useEffect"])(function(){return function(){l.visible&&l.markAllRead(l.category.key)}},[l.category.key,l.visible]);return g.a.createElement(Oe["a"],null,g.a.createElement(Re,{type:"default",size:me["a"],currentTab:l.category.key,tabs:n,onTabChange:l.onTabChange,tabWidth:160}),g.a.createElement(pe,{onScroll:a},l.category.activities.map(function(e){var t=Lt(e,e.haveRead);return t&&g.a.createElement(we,{key:e.uuid},t)}),!l.category.loading&&!l.category.activities.length&&g.a.createElement(Fe,null,g.a.createElement(je["a"],{type:"img",description:"无通知数据"})),l.category.loading&&g.a.createElement(Ne["a"],{size:me["b"]})))});var Qt=function(){var e=Object(b["i"])(Object(h["a"])(ue,{scope:ae.Navbar}),2),t=e[0],n=e[1];var a=Object(b["i"])(Object(v["useState"])(false),2),r=a[0],i=a[1];var o=Object(v["useCallback"])(function(e){if(e){n.getNotifications(w);i(true)}else{n.markAllRead(t.filter);n.clearAllNotifications();i(false)}},[n,t.filter]);Object(v["useEffect"])(function(){n.updateFilter(d["a"].NotificationFromSite);n.getUnreadNumber();n.listenToNotificationInWs()},[n]);return g.a.createElement(Se,{overlay:g.a.createElement(Vt,{fetchMore:n.getNotifications,markAllRead:n.markAllRead,category:t.categories[t.filter],onTabChange:n.updateFilter,visible:r}),markAllRead:n.markAllRead,onVisibleChange:o},g.a.createElement(x,{numUnread:t.totalUnreadNumber}))};var zt=n("UqMZ");var Ht=n("b63a");var $t=n("z5yO");var Gt=n("U3QC");var Kt=n("L6nh");var Jt=n("8CDz");var Zt=n.n(Jt);var Yt=n("Ctp7");var Xt=n.n(Yt);var en=n("Gn6q");var tn=n.n(en);var nn=n("phD9");var an=n("nsfC");var rn=function(){nn["a"].open({description:g.a.createElement("span",null,"+1 每日登录"),icon:g.a.createElement(an["a"],null)})};var on=function(a){Object(b["d"])(e,a);function e(e,t){var n=a.call(this)||this;n.client=e;n.globalDataModule=t;n.defaultState={premiumCreatedAt:0,premiumExpiredAt:0,fetchTplLoading:true,additionalTemplates:[]};return n}e.prototype.noop=function(e){return Object(b["a"])({},e)};e.prototype.setPremiumDuration=function(e,t){var n=t.userStatus&&t.userStatus.premiumCreatedAt;var a=t.userStatus&&t.userStatus.premiumExpiredAt;return Object(b["a"])(Object(b["a"])({},e),{premiumCreatedAt:n||0,premiumExpiredAt:a||0})};e.prototype.setTpls=function(e,t){if(t&&t.allLeetcodePlaygroundTemplates){return Object(b["a"])(Object(b["a"])({},e),{fetchTplLoading:false,additionalTemplates:t.allLeetcodePlaygroundTemplates})}return Object(b["a"])({},e)};e.prototype.getPremiumDuration=function(e){var n=this;return e.pipe(Object(_["a"])(function(){return n.client.query({query:tn.a}).pipe(Object(Q["a"])("获取会员开始和到期时间失败"),Object(q["a"])(function(e){var t=e.data;return n.getActions().setPremiumDuration(t)}))}))};e.prototype.dailyCheck=function(e){var t=this;return e.pipe(Object(_["a"])(function(){return t.globalDataModule.getState$().pipe(Object(Ht["a"])(function(e){return!e.globalData}),Object($t["a"])(function(e){return!e.globalData.userStatus.checkedInToday}),Object(B["a"])(function(){return t.client.mutate({mutation:Zt.a}).pipe(Object(Gt["a"])(function(e){var t=e.data;if(t.checkin.checkedIn){rn()}}),Object(q["a"])(function(){return t.getActions().noop()}),Object(V["a"])(t.dispose$))}))}))};e.prototype.getTpls=function(e){var n=this;return e.pipe(Object(_["a"])(function(){return n.client.query({query:Xt.a}).pipe(Object(q["a"])(function(e){var t=e.data;return n.getActions().setTpls(t)}),Object(V["a"])(n.dispose$))}))};var t,n,r,i,o,l,c,u,s,d,m;Object(b["c"])([Object(I["a"])(),Object(b["g"])("design:type",typeof(t=typeof T["a"]!=="undefined"&&T["a"])==="function"?t:Object)],e.prototype,"dispose$",void 0);Object(b["c"])([Object(I["d"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object]),Object(b["g"])("design:returntype",void 0)],e.prototype,"noop",null);Object(b["c"])([Object(I["d"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object,typeof(n=typeof Kt["PremiumCreatedAndExpiredTime"]!=="undefined"&&Kt["PremiumCreatedAndExpiredTime"].Query)==="function"?n:Object]),Object(b["g"])("design:returntype",Object)],e.prototype,"setPremiumDuration",null);Object(b["c"])([Object(I["d"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[Object,typeof(r=typeof Kt["FetchAllLeetcodeTemplates"]!=="undefined"&&Kt["FetchAllLeetcodeTemplates"].Query)==="function"?r:Object]),Object(b["g"])("design:returntype",void 0)],e.prototype,"setTpls",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(i=typeof T["a"]!=="undefined"&&T["a"])==="function"?i:Object]),Object(b["g"])("design:returntype",typeof(o=typeof T["a"]!=="undefined"&&T["a"])==="function"?o:Object)],e.prototype,"getPremiumDuration",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(l=typeof T["a"]!=="undefined"&&T["a"])==="function"?l:Object]),Object(b["g"])("design:returntype",typeof(c=typeof T["a"]!=="undefined"&&T["a"])==="function"?c:Object)],e.prototype,"dailyCheck",null);Object(b["c"])([Object(I["b"])(),Object(b["g"])("design:type",Function),Object(b["g"])("design:paramtypes",[typeof(u=typeof T["a"]!=="undefined"&&T["a"])==="function"?u:Object]),Object(b["g"])("design:returntype",typeof(s=typeof T["a"]!=="undefined"&&T["a"])==="function"?s:Object)],e.prototype,"getTpls",null);e=Object(b["c"])([Object(P["a"])(),Object(b["g"])("design:paramtypes",[typeof(d=typeof z["a"]!=="undefined"&&z["a"])==="function"?d:Object,typeof(m=typeof E["GlobalDataModule"]!=="undefined"&&E["GlobalDataModule"])==="function"?m:Object])],e);return e}(A["a"]);var ln=n("nnRT");var cn=n.n(ln);var un=n("nPqx");var sn=n("sYqU");var dn={width:"150px",height:"100px",borderRadius:"3px",transition:"0.18s border-color ease-in-out",img:{width:"100%",height:"100%",borderRadius:"3px"}};var mn=Object(O["a"])("div",{target:"e5i1odf0"})(Object(b["a"])(Object(b["a"])({},dn),{border:"1px dashed "+j["a"].dblue2,backgroundColor:j["a"].grey0,color:j["a"].dblue3,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"24px",transition:"0.18s color ease-in-out",cursor:"pointer","&:hover":{color:j["a"].dblue6,borderColor:j["a"].dblue6}}),"label:NewCard;");var pn=Object(O["a"])("div",{target:"e5i1odf1"})(Object(b["a"])({},dn),"label:TypeCard;");var fn=Object(O["a"])("div",{target:"e5i1odf2"})({lineHeight:"40px",textAlign:"center"},"label:CardName;");var vn=Object(O["a"])("a",{target:"e5i1odf3"})({color:j["a"].dark1,flex:"0 0 100px",marginTop:"20px","&:visited, &:hover, &:active, &:focus":{color:j["a"].dark1,textDecoration:"none"}},"label:Wrapper;");var bn=n("wJz1");var gn=n.n(bn);var hn=n("cuV4");var yn=n.n(hn);var kn=n("aDWd");var En=n.n(kn);var Sn=n("bcHh");var On=n.n(Sn);var jn=n("ypvL");var Nn=n.n(jn);var Cn={empty:yn.a,ml:On.a,react:Nn.a,"linked-list":En.a,"binary-tree":gn.a};var xn=Object(v["memo"])(function(e){var t=Object(v["useCallback"])(function(){return e.onClick(e.type.nameSlug)},[e.onClick,e.type.nameSlug]);return g.a.createElement(vn,{href:sn["a"].newPlayground(e.type.nameSlug),target:"_blank",onClick:t,key:e.type.nameSlug},e.type.isNew?g.a.createElement(mn,null,"+"):g.a.createElement(pn,null,g.a.createElement("img",{src:Cn[e.type.nameSlug],alt:e.type.name})),g.a.createElement(fn,null,e.type.name))});var wn=Object(O["a"])("div",{target:"e5i1odf0"})({display:"flex",flexDirection:"column",margin:"10px 0 30px 0",padding:"20px"},"label:CategoryWrapper;");var Fn=Object(O["a"])("div",{target:"e5i1odf1"})({fontSize:"16px",color:j["a"].dark4},"label:CategoryName;");var Pn=Object(O["a"])("div",{target:"e5i1odf2"})({display:"flex",justifyContent:"space-between",flexWrap:"wrap"},"label:CategoryTypes;");var In=Object(O["a"])("div",{target:"e5i1odf3"})({padding:"0 20px",display:"flex",alignItems:"center",borderBottom:"1px solid "+j["a"].dark8,color:j["a"].dblue6,cursor:"pointer",transition:"0.18s color ease-in-out","&:hover":{color:j["a"].dblue9}},"label:PlaygroundLinkInnerWrapper;");var An=Object(O["a"])("div",{target:"e5i1odf4"})({flex:"1 1 auto",fontSize:"16px",lineHeight:"56px"},"label:PlaygroundLink;");var Mn=Object(Pe["a"])(function(e,t){return[{slug:"console-application",name:"控制台程序",types:Object(b["k"])([{name:"空白 Playground",nameSlug:"empty",isNew:true}],t)},{slug:"frontend",name:"前端程序",types:[{name:"React",nameSlug:"react",usePng:true}]},{slug:"machine-learning",name:"机器学习",types:[{name:"机器学习",nameSlug:"ml",usePng:true}],displayCondition:e}]},cn.a);var Dn=function(t){Object(b["d"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.handlePlaygroundSelected=function(){return e.props.onClose()};return e}Object.defineProperty(e.prototype,"playgroundCategories",{get:function(){return Mn(!!this.context.isAdmin,this.props.additionalTemplates)},enumerable:true,configurable:true});e.prototype.render=function(){return g.a.createElement(un["a"],{visible:this.props.visible,onClose:this.props.onClose,title:"Playground",width:570,hasFooter:false},g.a.createElement("a",{href:"/playground/",target:"_blank",onClick:this.props.onClose},g.a.createElement(In,null,g.a.createElement(An,null,"我的 Playgrounds"),g.a.createElement(y["a"],{type:"angle-right"}))),this.renderPlaygroundCategories())};e.prototype.renderPlaygroundTypes=function(e){var t=this;return e.map(function(e){return g.a.createElement(xn,{key:e.nameSlug,type:e,onClick:t.handlePlaygroundSelected})})};e.prototype.renderPlaygroundCategories=function(){var t=this;if(this.props.loading){return g.a.createElement(Ne["a"],{size:"md"})}return this.playgroundCategories.filter(function(e){return e.displayCondition!==false}).map(function(e){return g.a.createElement(wn,{key:"category-"+e.name},g.a.createElement(Fn,null,e.name),g.a.createElement(Pn,null,t.renderPlaygroundTypes(e.types)))})};e.contextType=E["userContext"];return e}(v["PureComponent"]);var Rn=g.a.memo(function(e){var t=e.width,n=e.height,a=e.startColor,r=e.endColor,i=Object(b["j"])(e,["width","height","startColor","endColor"]);return g.a.createElement("svg",Object(b["a"])({width:t,height:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i),g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:"vip-mark-gradient",gradientTransform:"rotate(45)"},g.a.createElement("stop",{offset:"0%",stopColor:a}),g.a.createElement("stop",{offset:"100%",stopColor:r}))),g.a.createElement("path",{fill:"url(#vip-mark-gradient)",d:"M17,3 C18.1,3 19,3.9 19,5 L19,21 L12,18 L5,21 L5.01,5 C5.01,3.9 5.9,3 7,3 L17,3 Z M16,8 L13.697,8 L11.999,10.969 L10.303,8 L8,8 L11.999,15 L16,8 Z"}))});var Tn=n("WqTL");var Un={favList:sn["a"].myFavList,playground:sn["a"].myPlayground,notes:sn["a"].myNotes,submissions:sn["a"].mySubmissions,sessions:sn["a"].mySessions,articles:sn["a"].myArticles,orders:sn["a"].myOrders,progress:sn["a"].myProgress,points:sn["a"].myPoints,signOut:sn["a"].signOut};var _n=n("z/Ec");var qn=Object(O["a"])("div",{target:"e5i1odf0"})({width:"270px",padding:"0 10px 0 15px",display:"flex",flexDirection:"column",alignItems:"center"},function(e){var t=e.isPremium;return t?{height:"76px",borderBottom:"1px solid "+j["a"].grey2,backgroundImage:"linear-gradient(135deg, "+j["a"].white+" 0%, "+j["a"].brown0+" 100%)"}:{height:"44px",borderBottom:"1px solid "+j["a"].brown0,backgroundImage:"linear-gradient(135deg, "+j["a"].white+" 0%, "+j["a"].grey0+" 100%)"}},"label:Wrapper;");var Ln=Object(O["a"])("div",{target:"e5i1odf1"})({width:"100%",height:"44px",display:"flex",alignItems:"center",justifyContent:"space-between","div svg":{fontSize:"20px"},span:{fontSize:"13px"}},function(e){var t=e.isPremium;return t?{span:{color:j["a"].brown5},"> svg":{color:j["a"].brown2},"&:hover":{color:j["a"].brown6,"& > svg":{color:j["a"].brown4}}}:{span:{color:j["a"].grey8},svg:{color:j["a"].grey4},"div svg:hover":{color:j["a"].grey5},"&:hover":{span:{color:j["a"].black},"& > svg":{color:j["a"].dblue9}}}},"label:UserNameWrapper;");var Bn=Object(O["a"])("div",{target:"e5i1odf2"})({display:"flex",alignItems:"center",".ant-popover":{".ant-popover-content":{".ant-popover-arrow":{borderTopColor:j["a"].black},".ant-popover-inner":{background:j["a"].black,".ant-popover-inner-content":{color:j["a"].white,padding:"7px 10px",fontSize:"12px"}}}}},"label:PopoverWrapper;");var Wn=Object(O["a"])("div",{target:"e5i1odf3"})({display:"flex",alignItems:"center",span:Object(b["a"])({fontSize:"12px",lineHeight:"44px",marginLeft:"5px"},Ae["c"])},"label:UserNameInner;");var Vn=Object(O["a"])(y["a"],{target:"e5i1odf4"})({fontSize:"24px",flex:"0 0 auto",color:j["a"].dblue1},"label:UserArrowIcon;");var Qn=Object(O["a"])("div",{target:"e5i1odf5"})({color:j["a"].brown3},"label:UserExpiredTime;");var zn=Object(O["a"])("div",{target:"e5i1odf6"})({width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"12px"},"label:TimeWrapper;");var Hn=Object(O["a"])("div",{target:"e5i1odf7"})({width:"40px",height:"25px",color:j["a"].brown4,borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",":hover":{color:j["a"].brown6,background:j["a"].brown1}},"label:RefillButton;");var $n=function(e){var t=Math.floor(e/(3600*24));var n=Math.floor(e%(3600*24)/3600);var a=Math.floor(e%3600/60);var r=t?t+" 天 ":"";var i=t||n?n+" 小时 ":"";var o=t||n||a?a+" 分":"";return r+i+o};var Gn=function(e,t,n){var a=0;var r="";var i=Date.now();if(e&&t&&n&&t>n&&t>i){var o=Math.round((t-n)/1e3);var l=Math.round((t-i)/1e3);a=Math.round((o-l)*100/o);r=$n(l)}return{percent:a,timeRemain:r}};var Kn=g.a.memo(function(e){var t=e.isPremium,n=e.realName;var a=Object(b["i"])(Object(h["a"])(on),2),r=a[0],i=a[1];var o=Object(b["i"])(Object(h["a"])(E["GlobalDataModule"]),1),l=o[0].globalData;Object(v["useEffect"])(function(){if(t)i.getPremiumDuration()},[t]);var c=Object(v["useMemo"])(function(){var e=function(e){e.preventDefault();e.stopPropagation()};var t=function(){window.location.href="/premium";S["a"].navbar.vipIconClicked()};var n=function(e){e.preventDefault();e.stopPropagation();window.location.href="/premium";S["a"].navbar.refillClicked()};var a=function(e){return e.parentElement};return{onPopoverClick:e,onVipIconClick:t,onRefillClick:n,getPopupContainer:a}},[]),u=c.onPopoverClick,s=c.onRefillClick,d=c.onVipIconClick,m=c.getPopupContainer;var p=Gn(t,r.premiumExpiredAt,r.premiumCreatedAt).timeRemain;var f=l&&l.feature&&l.feature.subscription;return g.a.createElement(qn,{isPremium:t},g.a.createElement(Ln,{isPremium:t},g.a.createElement(Wn,null,f&&g.a.createElement(Bn,{onClick:u},g.a.createElement(_n["a"],{content:t?"力扣经典会员":"订阅经典会员",placement:"top",getPopupContainer:m},t?g.a.createElement(Rn,{width:20,height:20,startColor:k["brown2"],endColor:k["brown6"],onClick:d}):g.a.createElement(y["a"],{type:"vip-mark",onClick:d}))),g.a.createElement("span",null,n)),g.a.createElement(Vn,{type:"angle-right"})),t&&g.a.createElement(zn,null,g.a.createElement(Qn,null,"会员剩余："+p),g.a.createElement(Hn,{onClick:s},"续订")))});var Jn;var Zn={display:"flex",alignItems:"center",width:"100%",height:"100%"};var Yn={transition:"color 0.18s ease-in-out",display:"flex",color:j["a"].dblue6,alignItems:"center",flex:"1 1 auto",fontSize:"13px"};var Xn=Object(O["a"])("div",{target:"e5i1odf0"})(function(e){var t=e.isPremium;return{background:"transparent",position:"absolute",top:"-6px",left:"227px",borderTopLeftRadius:"4px",borderWidth:"0 8px 6px",borderBottomColor:t?j["a"].brown0:j["a"].white,borderStyle:"solid",color:"transparent",zIndex:1}},"label:UserMenuArrow;");var ea=Object(O["a"])(l["a"],{target:"e5i1odf1"})({width:"270px",padding:0,"& > .ant-dropdown-menu-item":{height:"44px","&:first-child":{height:"auto",padding:0,a:{padding:0,margin:0}}},"& > li":{position:"relative"}},"label:Menu;");var ta=Object(O["a"])("div",{target:"e5i1odf2"})(Object(b["a"])(Object(b["a"])({},Zn),{boxShadow:"inset 0 -1px 0 0 @dark-8"}),"label:UserItem;");var na=Object(O["a"])("div",{target:"e5i1odf3"})(Object(b["a"])(Object(b["a"])({},Yn),{justifyContent:"space-between"}),"label:UserItemContent;");var aa=Object(O["a"])("div",{target:"e5i1odf4"})({color:j["a"].yellowA3},"label:PremiumUserName;");var ra=Object(O["a"])("div",{target:"e5i1odf5"})({color:j["a"].dark1},"label:UserName;");var ia=Object(O["a"])("div",{target:"e5i1odf6"})(Object(b["a"])({},Zn),"label:MenuItemInnerWrapper;");var oa=Object(O["a"])(y["a"],{target:"e5i1odf7"})({transition:"color 0.18s ease-in-out",flex:"0 0 auto",color:j["a"].dblue3,fontSize:"20px",marginRight:"15px"},"label:MenuItemIcon;");var la=Object(O["a"])("div",{target:"e5i1odf8"})(Object(b["a"])({},Yn),"label:ItemContent;");var ca={"& > .ant-dropdown-menu-item":{height:"46px"},"&:hover":(Jn={},Jn[""+oa]={color:j["a"].dblue7},Jn[""+la]={color:j["a"].dblue9},Jn),"&:visited, &:active, &:focus":{textDecoration:"none",color:j["a"].dblue6}};var ua=Object(O["a"])("a",{target:"e5i1odf9"})(Object(b["a"])({},ca),"label:UserMenuLink;");var sa=Object(O["a"])("div",{target:"e5i1odf10"})(Object(b["a"])({},ca),"label:UserMenuItem;");var da=l["a"].Item;var ma="switch";var pa="switch-to-new";var fa=[{key:ma,displayCondition:function(){return window.location.pathname.startsWith("/problems")&&!window.location.pathname.startsWith("/problemset")},nonLink:true,icon:"switch",display:"切换到旧版本"},{key:pa,displayCondition:function(){return window.location.pathname.startsWith("/classic")},nonLink:true,icon:"switch",display:"切换到新版本"},{key:"favList",icon:"favorite-o",display:"收藏列表"},{key:"playground",icon:"playground",display:"我的 Playground"},{key:"notes",icon:"note",display:"笔记本"},{key:"submissions",icon:"clock",display:"提交记录"},{key:"articles",icon:"article",display:"我的文章"},{key:"sessions",icon:"bar-chart",display:"选择进度"},{key:"progress",display:"进展分析",icon:"pie-chart-o"},{key:"points",display:"积分",icon:"points"},{key:"signOut",display:"退出",icon:"signout"}];var va=function(e){Object(b["d"])(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;n.onClickItem=function(e){var t=e.key;if(t===ma){Object(Tn["a"])(true);window.location.href="/classic"+window.location.pathname}else if(t===pa){Object(Tn["a"])(false);window.location.href=window.location.pathname.substr(8)}n.props.onClick&&n.props.onClick()};return n}t.prototype.render=function(){var t=this;var e=this.props,n=e.onClick,a=Object(b["j"])(e,["onClick"]);var r=this.context,i=r.isPremium,o=r.userSlug,l=r.realName;return g.a.createElement(g.a.Fragment,null,g.a.createElement(Xn,{isPremium:i}),g.a.createElement(ea,Object(b["a"])({},a,{onClick:this.onClickItem}),g.a.createElement(da,{key:"profile"},g.a.createElement("a",{href:s["a"].main.paths.publicProfile.home({userSlug:o}),target:"_blank"},g.a.createElement(Kn,{isPremium:i,realName:l||null}))),fa.filter(function(e){return!e.displayCondition||e.displayCondition()}).map(function(e){return t.renderMenuItem(e)})))};t.prototype.renderMenuItem=function(e){var t=g.a.createElement(ia,null,g.a.createElement(oa,{type:e.icon}),g.a.createElement(la,null,e.display));return g.a.createElement(da,{key:e.key},e.nonLink?g.a.createElement(sa,null,t):g.a.createElement(ua,{href:Un[e.key]},t))};t.contextType=E["userContext"];return t}(v["PureComponent"]);var ba=n("5oqr");var ga=n("b69p");var ha=g.a.memo(function(e){var t=e.width,n=e.height,a=e.startColor,r=e.endColor,i=Object(b["j"])(e,["width","height","startColor","endColor"]);return g.a.createElement("svg",Object(b["a"])({width:t,height:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i),g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:"vip-gradient",gradientTransform:"rotate(45)"},g.a.createElement("stop",{offset:"0%",stopColor:a}),g.a.createElement("stop",{offset:"100%",stopColor:r}))),g.a.createElement("path",{fill:"url(#vip-gradient)",d:"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M18,8 L14.5455,8 L11.9985,12.4535 L9.4545,8 L6,8 L11.9985,18.5 L18,8 Z"}))});var ya=O["a"].div({position:"relative",padding:"1px",borderRadius:"100%",background:"linear-gradient(to bottom right, "+k["brown1"]+", "+k["brown5"]+")"},"label:AvatarWrapper;");var ka=O["a"].div({width:"14px",height:"14px",padding:"1px",background:k["white"],position:"absolute",bottom:"-3px",right:"-6px",borderRadius:"100%"},"label:AvatarIconWrapper;");var Ea=g.a.memo(function(e){var t=e.isPremium,n=Object(b["j"])(e,["isPremium"]);if(t){return g.a.createElement(ya,null,g.a.createElement(ba["a"],Object(b["a"])({},n)),g.a.createElement(ka,null,g.a.createElement(ha,{width:12,height:12,startColor:k["brown2"],endColor:k["brown5"]})))}else{return g.a.createElement(ba["a"],Object(b["a"])({},n))}});var Sa=u["a"].Menu;var Oa=function(){return[{key:"redeem",linkProps:{href:sn["a"].redeem,style:{color:j["a"].yellowA3}},display:"力扣周边"},{key:"translation",linkProps:{href:sn["a"].premium,style:{color:j["a"].yellowA3}},display:"会员中心"}]};var ja=function(e){return g.a.createElement(Sa,Object(b["a"])({},e),Oa().map(function(e){var t=e.display,n=e.key,a=e.linkProps;return g.a.createElement(Sa.Item,{key:n},g.a.createElement("a",Object(b["a"])({},a),t))}))};var Na=u["a"].Menu;var Ca=function(e){var t=e.userStatus,n=t.isTranslator,a=t.isSuperuser;var r=e.feature.questionTranslation;return[{key:"library",linkProps:{href:sn["a"].admin.library},display:"题库",displayCondition:!n},{key:"translation",linkProps:{href:sn["a"].admin.translation},display:"翻译",displayCondition:r&&(n||a)},{key:"review",linkProps:{href:sn["a"].admin.review},display:"内容审核",displayCondition:a},{key:"points",linkProps:{href:sn["a"].admin.points},display:"点数",displayCondition:a},{key:"contribution",linkProps:{href:sn["a"].admin.contribution},display:"贡献"},{key:"danger-zone",linkProps:{href:sn["a"].admin.dangerZone,style:{color:j["a"].red5}},display:"危险区域",displayCondition:a},{key:"administration",linkProps:{href:sn["a"].admin.administration},display:g.a.createElement(g.a.Fragment,null,g.a.createElement(y["a"],{style:{marginRight:"3px"},type:"settings"}),"后台管理"),displayCondition:a}]};var xa=Object(v["memo"])(function(e){var t=Object(b["i"])(Object(h["a"])(E["GlobalDataModule"]),1),n=t[0];if(!n.globalData){return null}return g.a.createElement(Na,Object(b["a"])({},e),Ca(n.globalData).filter(function(e){var t=e.displayCondition;return t!==false}).map(function(e){var t=e.display,n=e.key,a=e.linkProps;return g.a.createElement(Na.Item,{key:n},g.a.createElement("a",Object(b["a"])({},a),t))}))});var wa=n("IDXw");var Fa=Object(O["a"])(y["a"],{target:"e5i1odf0"})({fontSize:"20px",color:j["a"].dblue3,cursor:"pointer",transition:"0.18s color ease-in-out","&:hover":{color:j["a"].dblue6}},"label:NavbarIcon;");var Pa=Object(O["a"])("div",{target:"e5i1odf1"})({width:"100%",height:"44px",borderBottom:"1px solid "+j["a"].grey2,display:"flex",alignItems:"stretch",justifyContent:"center",fontSize:"13px",background:j["a"].white,minWidth:wa["b"]},"label:NavWrapper;");var Ia=Object(O["a"])("nav",{target:"e5i1odf2"})(function(e){var t=e.fluid;return{display:"flex",justifyContent:"space-between",minWidth:wa["b"],maxWidth:t?"unset":wa["a"],width:"100%",flexWrap:"nowrap",padding:"0 20px"}},"label:NavContainer;");var Aa=Object(O["a"])("div",{target:"e5i1odf3"})({display:"flex",flexWrap:"nowrap",heigth:"100%",alignItems:"center"},"label:NavbarMenu;");var Ma=Object(O["a"])("ul",{target:"e5i1odf4"})({display:"flex",flexWrap:"nowrap",heigth:"100%",alignItems:"center",marginBottom:"0",padding:"0"},"label:NavbarList;");var Da=Object(O["a"])("li",{target:"e5i1odf5"})({height:"20px",lineHeight:"20px",marginRight:"20px",color:j["a"].dblue6,cursor:"pointer",listStyle:"none","&:hover":{color:j["a"].dblue9},a:{display:"block",height:"100%",width:"auto",lineHeight:"inherit"},img:{verticalAlign:"top",height:"20px"},svg:{fontSize:"18px",lineHeight:"inherit",verticalAlign:"top"}},"label:NavbarListItem;");var Ra=Object(O["a"])("div",{target:"e5i1odf6"})({height:"22px",lineHeight:"22px",marginRight:"20px",color:j["a"].dblue3,cursor:"pointer","&:nth-last-child(1)":{marginRight:0},"&:hover":{color:j["a"].dblue6},a:{display:"block",height:"100%",width:"auto",lineHeight:"inherit",color:j["a"].dblue3,"&:hover":{color:j["a"].dblue6}},"svg, a svg":{fontSize:"20px",lineHeight:"inherit",verticalAlign:"top"},".ant-avatar":{display:"block"}},"label:NavbarMenuIconItem;");var Ta={color:j["a"].yellowA3,display:"flex",justifyContent:"space-between",alignItems:"center"};var Ua=Object(O["a"])("div",{target:"e5i1odf7"})({width:"1px",height:"20px",backgroundColor:j["a"].dark8},"label:NavItemDivider;");var _a=Object(O["a"])("div",{target:"e5i1odf8"})({marginLeft:"20px",display:"flex","& > a":{color:j["a"].dblue4,transition:"0.18s color ease-in-out","&:hover":{color:j["a"].dblue9}}},"label:AuthLinks;");var qa=Object(O["a"])("div",{target:"e5i1odf9"})({margin:"0 15px",color:j["a"].dark7},"label:AuthLinkDivider;");var La=Object(O["a"])("div",{target:"e5i1odf10"})({display:"flex",alignItems:"center",height:"26px",fontWeight:500,cursor:"pointer",fontSize:"12px",lineHeight:"18px",background:"linear-gradient(-180deg, "+j["a"].white+" 0%, "+j["a"].grey0+" 100%)",border:"1px solid "+j["a"].brown1,borderRadius:"3px",padding:"5px 8px 5px 5px",marginRight:"25px",color:j["a"].brown5,transition:".3s border-color","&:hover":{borderColor:j["a"].brown5},"&:active":{borderColor:j["a"].brown1},"&:focus":{outline:"none"},svg:{marginRight:"3px"}},"label:PromoteButton;");var Ba=n("ULPy");var Wa=n.n(Ba);var Va=function(e){return[{key:"logo",display:g.a.createElement("a",{href:sn["a"].home},g.a.createElement("img",{src:Wa.a,alt:"logo"}))},{key:"explore",display:g.a.createElement("a",{href:sn["a"].explore},"探索")},{key:"problems",display:g.a.createElement("a",{href:sn["a"].problems},"题库")},{key:"discuss",display:g.a.createElement("a",{href:s["a"].main.PATH.discuss.home},"圈子"),displayCondition:e.feature.discuss},{key:"contest",display:g.a.createElement("a",{href:sn["a"].contest},"竞赛"),displayCondition:e.feature.contest},{key:"interview",display:g.a.createElement("a",{href:sn["a"].interview},"面试")},{key:"jobs",display:g.a.createElement("a",{href:sn["a"].jobs},"职位"),displayCondition:e.feature.cnJobs},{key:"redeem",display:g.a.createElement(u["a"],{overlay:g.a.createElement(ja,null)},g.a.createElement("div",{style:Ta},g.a.createElement(y["a"],{type:"store"}),"商店",g.a.createElement(y["a"],{style:{width:"14px",height:"14px"},type:"caret-down"}))),displayCondition:e.feature.store},{key:"admin-list",display:g.a.createElement(u["a"],{overlay:g.a.createElement(xa,null)},"管理员",g.a.createElement(y["a"],{style:{width:"14px",height:"14px"},type:"caret-down"})),displayCondition:e.userStatus.isAdmin}]};var Qa=function(e){Object(b["d"])(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;i.state={fetchTplLoading:false,modalVisible:false,langMenuVisible:false};i.renderModal=function(){return g.a.createElement(Dn,{loading:i.state.fetchTplLoading,visible:i.state.modalVisible,onClose:i.onClose,additionalTemplates:i.props.additionalTemplates})};i.showPlaygroundModal=function(){return i.setState({modalVisible:true})};i.onClose=function(){return i.setState({modalVisible:false})};i.handlePromoteClick=function(){S["a"].navbar.promoteButtonClicked()};i.onLangMenuVisibleChange=function(e){return i.setState({langMenuVisible:!!e})};i.onClickLang=function(e){var t=e.key;var n=t==="chinese";if(n!==!!i.props.global.userStatus.useTranslation){i.props.updateTranslation(t==="chinese")}};i.renderTranslateButton=function(){var e=window.location.href;var t=new RegExp(window.location.host+"/contest/.*?/problems/");if(t.test(e))return null;var n=i.state.langMenuVisible;var a=i.props.global.userStatus.useTranslation?"chinese":"english";var r=g.a.createElement(l["a"],{onClick:i.onClickLang},g.a.createElement(l["a"].Item,{key:"chinese"},"题目以中文显示"),g.a.createElement(l["a"].Item,{key:"english"},"题目以英文显示"));return g.a.createElement(Ra,null,g.a.createElement(u["a"],{trigger:["click"],placement:"bottomCenter",overlay:r,onVisibleChange:i.onLangMenuVisibleChange},g.a.createElement(Fa,{type:a}),g.a.createElement(y["a"],{type:n?"caret-up":"caret-down"})))};i.renderPromoteButton=function(){var e=i.props.global;if(!e.feature||!e.feature.subscription){return null}return g.a.createElement("a",{href:s["a"].main.PATH.premium.home,onClick:i.handlePromoteClick},g.a.createElement(La,null,g.a.createElement(Rn,{width:18,height:18,startColor:k["brown2"],endColor:k["brown6"]}),g.a.createElement("span",null,"会员中心")))};i.renderSignedInItems=function(){var e=i.props.global;var t=e.userStatus.isPremium;return g.a.createElement(g.a.Fragment,null,g.a.createElement(Ra,null,g.a.createElement(Qt,null)),g.a.createElement(Ra,{"data-tour-index":"6"},g.a.createElement(u["a"],{overlay:g.a.createElement(va,null),trigger:["click"],placement:"bottomRight",align:{points:["tr","br"],offset:[24,16]}},g.a.createElement(Ea,{isPremium:!!t,size:20,src:e.userStatus.avatar}))))};i.renderAuthenticationItems=function(){return!i.isSignInPage&&g.a.createElement(g.a.Fragment,null,g.a.createElement(Ua,null),g.a.createElement(_a,null,g.a.createElement("a",{onClick:zt["a"].signUp},"注册"),g.a.createElement(qa,null,"或"),g.a.createElement("a",{onClick:zt["a"].signIn},"登录")))};return i}Object.defineProperty(t.prototype,"isSignInPage",{get:function(){return Object(r["c"])(window.location.pathname,{path:"/accounts/(login|signup)"})},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){this.props.fetchGlobalData();this.props.dailyCheck();this.props.getTpls()};t.prototype.componentWillUnmount=function(){this.props.dispose$()};t.prototype.render=function(){var e=this.props.global;if(!e)return null;var t=e.userStatus&&e.userStatus.isPremium;var n=e.userStatus&&e.userStatus.isSignedIn;return g.a.createElement(ye.Provider,{value:{isNoj:!!this.props.isNoj}},g.a.createElement(Pa,{id:this.props.id},g.a.createElement(Ia,{fluid:this.props.fluid},g.a.createElement(Ma,null,Va(e).filter(function(e){return e.displayCondition!==false}).map(function(e){var t=e.display,n=e.key;return g.a.createElement(Da,{key:n},t)})),g.a.createElement(Aa,null,t?null:this.renderPromoteButton(),n&&this.renderTranslateButton(),g.a.createElement(Ra,null,g.a.createElement(i["a"],{title:"新建 Playground"},g.a.createElement(Fa,{type:"playground-new",onClick:this.showPlaygroundModal}))),n?this.renderSignedInItems():this.renderAuthenticationItems())),this.renderModal()))};return t}(g.a.PureComponent);var za=Object(v["memo"])(function(e){var t=Object(b["i"])(Object(h["a"])(on),2),n=t[0],a=t[1];var r=Object(b["i"])(Object(h["a"])(E["GlobalDataModule"]),2),i=r[0],o=r[1];return g.a.createElement(Qa,Object(b["a"])({},e,n,a,{global:i.globalData,fetchGlobalData:o.fetchGlobalData,updateTranslation:o.updateTranslation}))});var Ha=n("7nmT");var $a=n.n(Ha);var Ga=n("pu3o");var Ka=n.n(Ga);var Ja=n("CINk");var Za=n("7RRJ");var Ya=n("3dHC");var Xa=n.n(Ya);function er(e,t){if(!e||!e.feature){return true}return e.feature[t]===false}function tr(e,t){if(e&&e.userStatus&&e.userStatus.isSignedIn){var n=e.userStatus.useTranslation;var a=window.location.href;var r=new RegExp(window.location.host+"/contest/.*?/problems/");var i=r.test(a)?null:{key:"switch_question_language",display:n?"题目以英文显示":"题目以中文显示",icon:n?"english":"chinese",isShowLine:true,linkProps:{onClick:function(){t(!n)}}};var o={key:"switch_to_old_version",display:"切换到旧版本",icon:"switch",isHide:false,linkProps:{onClick:function(){var e=window.location.pathname;Object(Tn["a"])(true);window.location.href="/classic"+e}}};var l=fa.filter(function(e){var t=e.key;return!!Un[t]}).map(function(e){var t=e.key,n=e.icon,a=e.display,r=e.displayCondition;return{key:"user_"+t,icon:n,display:a,isHide:r?!r():false,linkProps:{href:Un[t],"data-highlight":t==="sign-out"?"red":undefined}}});return Xa()(Object(b["k"])([i,o],l))}else{return[]}}function nr(e){if(e&&e.userStatus&&e.userStatus.isAdmin){return Ca(e).map(function(e,t){var n=e.key,a=e.display,r=e.displayCondition;return{key:"admin_"+n,display:a,isShowLine:t===0,isHide:r===false,linkProps:{href:sn["a"].admin[n],"data-highlight":"red"}}})}else{return[]}}var ar=function(e,t){return Object(b["k"])([{key:"explore",display:"探索",isHide:false,linkProps:{href:sn["a"].explore}},{key:"problems",display:"题库",linkProps:{href:sn["a"].problems}},{key:"contest",display:"竞赛",isShowLine:true,isHide:er(e,"contest"),linkProps:{href:sn["a"].contest}},{key:"articles",display:"阅读",linkProps:{href:sn["a"].articles}},{key:"discuss",display:"圈子",linkProps:{href:sn["a"].circle}},{key:"redeem",display:"兑换",isShowLine:true,isHide:er(e,"store"),linkProps:{href:sn["a"].redeem,"data-highlight":"yellow"}}],nr(e),tr(e,t))};var rr=n("joW0");var ir=n.n(rr);var or=function(t){Object(b["d"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.menuRef=g.a.createRef();return e}e.prototype.componentDidMount=function(){Za["a"].prepare();this.disableScrollIfNeed();this.props.fetchGlobalData()};e.prototype.componentDidUpdate=function(){this.disableScrollIfNeed()};e.prototype.componentWillUnmount=function(){this.disableScrollIfNeed(false)};Object.defineProperty(e.prototype,"isSignedIn",{get:function(){var e=this.props.global;return!!(e&&e.userStatus&&e.userStatus.isSignedIn)},enumerable:true,configurable:true});e.prototype.disableScrollIfNeed=function(e){if(e===void 0){e=this.props.isShow}if(this.menuRef.current){if(e){Object(Ja["disableBodyScroll"])(this.menuRef.current)}else{Object(Ja["enableBodyScroll"])(this.menuRef.current)}}else{Object(Ja["clearAllBodyScrollLocks"])()}};e.prototype.renderSignIn=function(){var e=window.location.pathname+window.location.search;var t=Ka.a.stringify({next:e});return g.a.createElement("div",{className:ir.a.signInArea},g.a.createElement("a",{href:sn["a"].signIn(e),className:ir.a.link},"登录"),"or",g.a.createElement("a",{href:sn["a"].signUp+"?"+t,className:ir.a.link},"注册"))};e.prototype.renderUserProfile=function(){var e=this.props.global;if(!e||!e.userStatus)return null;return g.a.createElement("a",{className:ir.a.userProfileArea,href:sn["a"].userProfile(e.userStatus.userSlug)},g.a.createElement("img",{alt:e.userStatus.username+"'s avatar",className:ir.a.avatar,src:e.userStatus.avatar||""}),g.a.createElement("div",{className:ir.a.username,"data-is-premium":e.userStatus.isPremium},g.a.createElement(y["a"],{type:"mark-star",className:ir.a.icon}),g.a.createElement("span",null,e.userStatus.username)))};e.prototype.renderItems=function(){return g.a.createElement("div",{className:ir.a.itemsArea},ar(this.props.global,this.props.updateTranslation).map(function(e){var t=e.isHide,n=e.isShowLine,a=e.display,r=e.icon,i=e.key,o=e.linkProps;return g.a.createElement(g.a.Fragment,{key:i},n&&g.a.createElement("hr",null),!t&&g.a.createElement("a",Object(b["a"])({},o,{className:ir.a.item}),r&&g.a.createElement(y["a"],{type:r,className:ir.a.icon}),g.a.createElement("span",null,a)))}))};e.prototype.render=function(){return $a.a.createPortal(g.a.createElement("div",{className:ir.a.container,"data-is-show":this.props.isShow},g.a.createElement("div",{className:ir.a.mask,onClick:this.props.onClose}),g.a.createElement("div",{className:ir.a.menu,ref:this.menuRef},this.isSignedIn?this.renderUserProfile():this.renderSignIn(),this.renderItems())),window.document.body)};return e}(g.a.PureComponent);var lr=function(e){var t=Object(b["i"])(Object(h["a"])(E["GlobalDataModule"]),2),n=t[0].globalData,a=t[1];return g.a.createElement(or,Object(b["a"])({},e,{updateTranslation:a.updateTranslation,fetchGlobalData:a.fetchGlobalData,global:n}))};var cr=n("QPBD");var ur=O["a"].div(function(e){var t=e.staticPosition;return t?{position:"relative",zIndex:1}:{position:"fixed",top:"0px",left:"0px",right:"0px",zIndex:1,"& + *":{marginTop:"47px"}}},"label:PositionContainer;");var sr=O["a"].div({boxSizing:"content-box",height:"46px",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",borderBottom:"1px solid "+j["a"].dark8},cr["a"].paddingTop(),cr["a"].paddingLeft("15px"),cr["a"].paddingRight("15px"),"label:LayoutContainer;");var dr=Object(O["a"])(function(e){return g.a.createElement("img",Object(b["a"])({src:Wa.a,alt:"logo"},e))},{target:"e5i1odf0"})({height:"23px"},"label:Logo;");var mr=Object(O["a"])(y["a"],{target:"e5i1odf1"})({width:"24px",height:"24px",color:j["a"].dblue2},"label:StyledIcon;");var pr=function(e){return g.a.createElement(mr,Object(b["a"])({type:"menu"},e))};var fr=function(e){return g.a.createElement(mr,Object(b["a"])({type:"account"},e))};var vr=Object(O["a"])(fr,{target:"e5i1odf2"})({opacity:0,pointerEvents:"none"},"label:AvatarPlaceHolder;");var br=O["a"].img({width:"22px",height:"22px",borderRadius:"11px"},"label:Avatar;");var gr=function(t){Object(b["d"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.state={isShowMenu:false};e.toggleMenu=function(){e.setState(function(e){var t=e.isShowMenu;return{isShowMenu:!t}})};return e}e.prototype.render=function(){return g.a.createElement(ur,{staticPosition:this.props.staticPosition},g.a.createElement(sr,null,g.a.createElement(pr,{onClick:this.toggleMenu}),this.props.children||g.a.createElement("a",{href:"/"},g.a.createElement(dr,null)),this.renderAvatar()),true&&g.a.createElement(lr,{isShow:this.state.isShowMenu,onClose:this.toggleMenu}))};e.prototype.renderAvatar=function(){if(this.context.userSlug){return g.a.createElement("a",{href:s["a"].main.paths.publicProfile.home({userSlug:this.context.userSlug})},this.context.avatar?g.a.createElement(br,{src:this.context.avatar}):g.a.createElement(fr,null))}else{return g.a.createElement(vr,null)}};e.contextType=E["userContext"];return e}(g.a.PureComponent);n.d(t,"a",function(){return hr});var hr=Object(v["memo"])(function(e){return Object(a["a"])()?g.a.createElement(gr,Object(b["a"])({},e)):g.a.createElement(za,Object(b["a"])({},e))})},jWsR:function(e,t,n){"use strict";var a=n("D57K");var r=n("ERkP");var i=n.n(r);var o=n("LR82");var l=n("uZih");var c=n.n(l);var u=n("Jf4p");var s=n("RuI9");var d=n("LJ7e");var m=n("z45D");var p=Object(d["a"])("div",{target:"e5i1odf0"})(function(e){var t=e.isError;return!t?{opacity:0,pointerEvents:"none"}:null},{transition:"opacity 0.3s"},"label:ErrorMessageContainer;");var f=Object(d["a"])("p",{target:"e5i1odf1"})(Object(a["a"])(Object(a["a"])({},m["a"]),{margin:"10px 0 20px 0"}),"label:ErrorMessagePara;");var v=n("yu9t");var b=function(e){Object(a["d"])(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;i.state={value:i.props.defaultValue||"",isError:false,errorMessage:null};i.subscription=new o["a"];i.actionObserverListener=function(e){var t;if(e.type==="showError"){var n=e.value,a=n.errorMessage,r=n.inputName;if(i.props.name===r){i.updateErrorInfo(a)}}else if(e.type==="getFormValue"){e.value.addValue$.next((t={},t[i.props.name]=i.state.value,t))}};i.onBlur=function(e){if(typeof i.props.onBlur==="function"){i.props.onBlur(e)}i.validate("onBlur",i.state.value)};i.onChange=function(e){var t=e.target;var n=i.props.maxUtf8Bytes;var a=n?Object(u["a"])(t.value,n):t.value;i.setState({value:a},i.onValueChanged);i.validate("onChange",a)};i.onKeyDown=function(e){if(typeof i.props.onKeyDown==="function"){i.props.onKeyDown(e)}i.props.action$.next({type:"onKeyDown",value:{event:e}})};i.onValueChanged=function(){if(typeof i.props.onValueChanged==="function"){i.props.onValueChanged(i.state.value)}};return i}Object.defineProperty(t.prototype,"childProps",{get:function(){return Object(a["a"])(Object(a["a"])({},c()(this.props,"kind","value","validation","maxUtf8Bytes","onValueChanged","action$","onFieldMount","onFieldUnMount")),{value:this.state.value,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown})},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){this.subscription.add(this.props.action$.subscribe(this.actionObserverListener));this.props.onFieldMount(this.props.name,this.props.validation)};t.prototype.componentWillUnmount=function(){this.subscription.unsubscribe();this.props.onFieldUnMount(this.props.name)};t.prototype.render=function(){var e=Object(v["b"])(this.props.kind);return i.a.createElement(i.a.Fragment,null,i.a.createElement(e,Object(a["a"])({},this.childProps)),this.renderErrorMessage())};t.prototype.validate=function(e,t){var n=!!this.props.validation[e];if(n){var a=this.props.validation.validate(e,t);this.updateErrorInfo(a)}};t.prototype.updateErrorInfo=function(e){this.setState({isError:!!e,errorMessage:e})};t.prototype.renderErrorMessage=function(){return i.a.createElement(p,{isError:this.state.isError},i.a.createElement(f,null,this.state.errorMessage))};return t}(i.a.PureComponent);var g=t["a"]=function(t){return i.a.createElement(s["a"],null,function(e){return i.a.createElement(b,Object(a["a"])({},t,e))})}},jaZD:function(e,t,n){"use strict";n.d(t,"c",function(){return u});n.d(t,"b",function(){return l});n.d(t,"a",function(){return c});var a=n("D57K");var r=n("ERkP");var i=n.n(r);var o=i.a.createContext({}),l=o.Provider,c=o.Consumer;var u=function(n){return function(t){return i.a.createElement(c,null,function(e){return i.a.createElement(n,Object(a["a"])({},e,t))})}}},joW0:function(e,t,n){e.exports={container:"container__2tj7",mask:"mask__2rjA",menu:"menu__1San","items-area":"items-area__1g7Y",itemsArea:"items-area__1g7Y","sign-in-area":"sign-in-area__1pdO",signInArea:"sign-in-area__1pdO","user-profile-area":"user-profile-area__1VWk",userProfileArea:"user-profile-area__1VWk",link:"link__34X7",avatar:"avatar__OUBM",username:"username__2gBZ",icon:"icon__3tuU",item:"item__YG_P"}},wJz1:function(e,t,n){e.exports=n.p+"95762378db7032028ac429b8754e3a34.jpg"},yMer:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("fYnN");var r=n.n(a);function i(t){var n=new FormData;n.append("csrfmiddlewaretoken",r.a.get("csrftoken")||"");Object.keys(t).forEach(function(e){n.append(e,t[e])});return n}},ypvL:function(e,t,n){e.exports=n.p+"dc6e73ef17c81b95a36d4b461b0c2c82.png"},yu9t:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n.d(t,"b",function(){return o});var a=n("Hxrh");var r;(function(e){e["Input"]="Input"})(r||(r={}));var i=new Map;i.set(r.Input,a["a"]);function o(e){return i.get(e)}},z45D:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("6h7y");var r={color:a["redA4"],fontSize:"12px",lineHeight:"18px"}}}]);